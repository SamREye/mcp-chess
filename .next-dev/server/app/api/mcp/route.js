/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/mcp/route";
exports.ids = ["app/api/mcp/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/keyv@4.5.4/node_modules/keyv/src sync recursive":
/*!*******************************************************************!*\
  !*** ./node_modules/.pnpm/keyv@4.5.4/node_modules/keyv/src/ sync ***!
  \*******************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/.pnpm/keyv@4.5.4/node_modules/keyv/src sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "http2":
/*!************************!*\
  !*** external "http2" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("http2");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "node:path":
/*!****************************!*\
  !*** external "node:path" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node:path");

/***/ }),

/***/ "?2bf9":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?6faf":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmcp%2Froute&page=%2Fapi%2Fmcp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmcp%2Froute.ts&appDir=%2FUsers%2Fsamuelbourque%2Fcodex%2Fmcp-chess%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamuelbourque%2Fcodex%2Fmcp-chess&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmcp%2Froute&page=%2Fapi%2Fmcp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmcp%2Froute.ts&appDir=%2FUsers%2Fsamuelbourque%2Fcodex%2Fmcp-chess%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamuelbourque%2Fcodex%2Fmcp-chess&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_samuelbourque_codex_mcp_chess_app_api_mcp_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/mcp/route.ts */ \"(rsc)/./app/api/mcp/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/mcp/route\",\n        pathname: \"/api/mcp\",\n        filename: \"route\",\n        bundlePath: \"app/api/mcp/route\"\n    },\n    resolvedPagePath: \"/Users/samuelbourque/codex/mcp-chess/app/api/mcp/route.ts\",\n    nextConfigOutput,\n    userland: _Users_samuelbourque_codex_mcp_chess_app_api_mcp_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/mcp/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbmV4dEAxNC4yLjM1X3JlYWN0LWRvbUAxOC4zLjFfcmVhY3RAMTguMy4xX19yZWFjdEAxOC4zLjEvbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1hcHAtbG9hZGVyLmpzP25hbWU9YXBwJTJGYXBpJTJGbWNwJTJGcm91dGUmcGFnZT0lMkZhcGklMkZtY3AlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZtY3AlMkZyb3V0ZS50cyZhcHBEaXI9JTJGVXNlcnMlMkZzYW11ZWxib3VycXVlJTJGY29kZXglMkZtY3AtY2hlc3MlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGc2FtdWVsYm91cnF1ZSUyRmNvZGV4JTJGbWNwLWNoZXNzJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNTO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWNwLWNoZXNzLz9kYTQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9zYW11ZWxib3VycXVlL2NvZGV4L21jcC1jaGVzcy9hcHAvYXBpL21jcC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWNwL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvbWNwXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9tY3Avcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvc2FtdWVsYm91cnF1ZS9jb2RleC9tY3AtY2hlc3MvYXBwL2FwaS9tY3Avcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL21jcC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmcp%2Froute&page=%2Fapi%2Fmcp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmcp%2Froute.ts&appDir=%2FUsers%2Fsamuelbourque%2Fcodex%2Fmcp-chess%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamuelbourque%2Fcodex%2Fmcp-chess&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/mcp/route.ts":
/*!******************************!*\
  !*** ./app/api/mcp/route.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_mcp_tools__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mcp-tools */ \"(rsc)/./lib/mcp-tools.ts\");\n\n\nfunction jsonRpcSuccess(id, result) {\n    return Response.json({\n        jsonrpc: \"2.0\",\n        id: id ?? null,\n        result\n    });\n}\nfunction jsonRpcError(id, code, message) {\n    return Response.json({\n        jsonrpc: \"2.0\",\n        id: id ?? null,\n        error: {\n            code,\n            message\n        }\n    }, {\n        status: 400\n    });\n}\nasync function GET() {\n    return Response.json({\n        name: \"mcp-chess\",\n        protocol: \"JSON-RPC 2.0\",\n        endpoint: \"/api/mcp\"\n    });\n}\nasync function POST(req) {\n    let body;\n    try {\n        body = await req.json();\n    } catch  {\n        return jsonRpcError(null, -32700, \"Invalid JSON\");\n    }\n    const { id, method, params } = body;\n    try {\n        if (method === \"initialize\") {\n            return jsonRpcSuccess(id, {\n                protocolVersion: \"2024-11-05\",\n                serverInfo: {\n                    name: \"mcp-chess\",\n                    version: \"0.1.0\"\n                },\n                capabilities: {\n                    tools: {}\n                }\n            });\n        }\n        if (method === \"tools/list\") {\n            return jsonRpcSuccess(id, {\n                tools: _lib_mcp_tools__WEBPACK_IMPORTED_MODULE_1__.toolDefs.map((tool)=>({\n                        name: tool.name,\n                        description: tool.description,\n                        inputSchema: tool.inputSchema\n                    }))\n            });\n        }\n        if (method === \"tools/call\") {\n            const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_0__.auth)();\n            const name = params?.name;\n            const args = params?.arguments ?? {};\n            if (typeof name !== \"string\" || !name) {\n                return jsonRpcError(id, -32602, \"Invalid params: tool name is required\");\n            }\n            const result = await (0,_lib_mcp_tools__WEBPACK_IMPORTED_MODULE_1__.executeTool)(name, args, {\n                userId: session?.user?.id ?? null\n            });\n            return jsonRpcSuccess(id, {\n                content: [\n                    {\n                        type: \"text\",\n                        text: JSON.stringify(result)\n                    }\n                ],\n                structuredContent: result\n            });\n        }\n        return jsonRpcError(id, -32601, `Method not found: ${method ?? \"<missing>\"}`);\n    } catch (error) {\n        const message = error instanceof Error ? error.message : \"Internal error\";\n        return jsonRpcError(id, -32000, message);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL21jcC9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWtDO0FBQ3NCO0FBU3hELFNBQVNHLGVBQWVDLEVBQXNDLEVBQUVDLE1BQWU7SUFDN0UsT0FBT0MsU0FBU0MsSUFBSSxDQUFDO1FBQ25CQyxTQUFTO1FBQ1RKLElBQUlBLE1BQU07UUFDVkM7SUFDRjtBQUNGO0FBRUEsU0FBU0ksYUFDUEwsRUFBc0MsRUFDdENNLElBQVksRUFDWkMsT0FBZTtJQUVmLE9BQU9MLFNBQVNDLElBQUksQ0FDbEI7UUFDRUMsU0FBUztRQUNUSixJQUFJQSxNQUFNO1FBQ1ZRLE9BQU87WUFBRUY7WUFBTUM7UUFBUTtJQUN6QixHQUNBO1FBQUVFLFFBQVE7SUFBSTtBQUVsQjtBQUVPLGVBQWVDO0lBQ3BCLE9BQU9SLFNBQVNDLElBQUksQ0FBQztRQUNuQlEsTUFBTTtRQUNOQyxVQUFVO1FBQ1ZDLFVBQVU7SUFDWjtBQUNGO0FBRU8sZUFBZUMsS0FBS0MsR0FBWTtJQUNyQyxJQUFJQztJQUNKLElBQUk7UUFDRkEsT0FBUSxNQUFNRCxJQUFJWixJQUFJO0lBQ3hCLEVBQUUsT0FBTTtRQUNOLE9BQU9FLGFBQWEsTUFBTSxDQUFDLE9BQU87SUFDcEM7SUFFQSxNQUFNLEVBQUVMLEVBQUUsRUFBRWlCLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdGO0lBRS9CLElBQUk7UUFDRixJQUFJQyxXQUFXLGNBQWM7WUFDM0IsT0FBT2xCLGVBQWVDLElBQUk7Z0JBQ3hCbUIsaUJBQWlCO2dCQUNqQkMsWUFBWTtvQkFBRVQsTUFBTTtvQkFBYVUsU0FBUztnQkFBUTtnQkFDbERDLGNBQWM7b0JBQ1pDLE9BQU8sQ0FBQztnQkFDVjtZQUNGO1FBQ0Y7UUFFQSxJQUFJTixXQUFXLGNBQWM7WUFDM0IsT0FBT2xCLGVBQWVDLElBQUk7Z0JBQ3hCdUIsT0FBT3pCLG9EQUFRQSxDQUFDMEIsR0FBRyxDQUFDLENBQUNDLE9BQVU7d0JBQzdCZCxNQUFNYyxLQUFLZCxJQUFJO3dCQUNmZSxhQUFhRCxLQUFLQyxXQUFXO3dCQUM3QkMsYUFBYUYsS0FBS0UsV0FBVztvQkFDL0I7WUFDRjtRQUNGO1FBRUEsSUFBSVYsV0FBVyxjQUFjO1lBQzNCLE1BQU1XLFVBQVUsTUFBTWhDLCtDQUFJQTtZQUMxQixNQUFNZSxPQUFPTyxRQUFRUDtZQUNyQixNQUFNa0IsT0FBT1gsUUFBUVksYUFBYSxDQUFDO1lBRW5DLElBQUksT0FBT25CLFNBQVMsWUFBWSxDQUFDQSxNQUFNO2dCQUNyQyxPQUFPTixhQUFhTCxJQUFJLENBQUMsT0FBTztZQUNsQztZQUVBLE1BQU1DLFNBQVMsTUFBTUosMkRBQVdBLENBQUNjLE1BQU1rQixNQUFNO2dCQUMzQ0UsUUFBUUgsU0FBU0ksTUFBTWhDLE1BQU07WUFDL0I7WUFFQSxPQUFPRCxlQUFlQyxJQUFJO2dCQUN4QmlDLFNBQVM7b0JBQUM7d0JBQUVDLE1BQU07d0JBQVFDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ3BDO29CQUFRO2lCQUFFO2dCQUN6RHFDLG1CQUFtQnJDO1lBQ3JCO1FBQ0Y7UUFFQSxPQUFPSSxhQUFhTCxJQUFJLENBQUMsT0FBTyxDQUFDLGtCQUFrQixFQUFFaUIsVUFBVSxZQUFZLENBQUM7SUFDOUUsRUFBRSxPQUFPVCxPQUFPO1FBQ2QsTUFBTUQsVUFBVUMsaUJBQWlCK0IsUUFBUS9CLE1BQU1ELE9BQU8sR0FBRztRQUN6RCxPQUFPRixhQUFhTCxJQUFJLENBQUMsT0FBT087SUFDbEM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL21jcC1jaGVzcy8uL2FwcC9hcGkvbWNwL3JvdXRlLnRzP2Y2ZjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXV0aCB9IGZyb20gXCJAL2xpYi9hdXRoXCI7XG5pbXBvcnQgeyBleGVjdXRlVG9vbCwgdG9vbERlZnMgfSBmcm9tIFwiQC9saWIvbWNwLXRvb2xzXCI7XG5cbnR5cGUgSnNvblJwY1JlcXVlc3QgPSB7XG4gIGpzb25ycGM/OiBzdHJpbmc7XG4gIGlkPzogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbDtcbiAgbWV0aG9kPzogc3RyaW5nO1xuICBwYXJhbXM/OiBhbnk7XG59O1xuXG5mdW5jdGlvbiBqc29uUnBjU3VjY2VzcyhpZDogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCwgcmVzdWx0OiB1bmtub3duKSB7XG4gIHJldHVybiBSZXNwb25zZS5qc29uKHtcbiAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgIGlkOiBpZCA/PyBudWxsLFxuICAgIHJlc3VsdFxuICB9KTtcbn1cblxuZnVuY3Rpb24ganNvblJwY0Vycm9yKFxuICBpZDogc3RyaW5nIHwgbnVtYmVyIHwgbnVsbCB8IHVuZGVmaW5lZCxcbiAgY29kZTogbnVtYmVyLFxuICBtZXNzYWdlOiBzdHJpbmdcbikge1xuICByZXR1cm4gUmVzcG9uc2UuanNvbihcbiAgICB7XG4gICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgaWQ6IGlkID8/IG51bGwsXG4gICAgICBlcnJvcjogeyBjb2RlLCBtZXNzYWdlIH1cbiAgICB9LFxuICAgIHsgc3RhdHVzOiA0MDAgfVxuICApO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICByZXR1cm4gUmVzcG9uc2UuanNvbih7XG4gICAgbmFtZTogXCJtY3AtY2hlc3NcIixcbiAgICBwcm90b2NvbDogXCJKU09OLVJQQyAyLjBcIixcbiAgICBlbmRwb2ludDogXCIvYXBpL21jcFwiXG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXE6IFJlcXVlc3QpIHtcbiAgbGV0IGJvZHk6IEpzb25ScGNSZXF1ZXN0O1xuICB0cnkge1xuICAgIGJvZHkgPSAoYXdhaXQgcmVxLmpzb24oKSkgYXMgSnNvblJwY1JlcXVlc3Q7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBqc29uUnBjRXJyb3IobnVsbCwgLTMyNzAwLCBcIkludmFsaWQgSlNPTlwiKTtcbiAgfVxuXG4gIGNvbnN0IHsgaWQsIG1ldGhvZCwgcGFyYW1zIH0gPSBib2R5O1xuXG4gIHRyeSB7XG4gICAgaWYgKG1ldGhvZCA9PT0gXCJpbml0aWFsaXplXCIpIHtcbiAgICAgIHJldHVybiBqc29uUnBjU3VjY2VzcyhpZCwge1xuICAgICAgICBwcm90b2NvbFZlcnNpb246IFwiMjAyNC0xMS0wNVwiLFxuICAgICAgICBzZXJ2ZXJJbmZvOiB7IG5hbWU6IFwibWNwLWNoZXNzXCIsIHZlcnNpb246IFwiMC4xLjBcIiB9LFxuICAgICAgICBjYXBhYmlsaXRpZXM6IHtcbiAgICAgICAgICB0b29sczoge31cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKG1ldGhvZCA9PT0gXCJ0b29scy9saXN0XCIpIHtcbiAgICAgIHJldHVybiBqc29uUnBjU3VjY2VzcyhpZCwge1xuICAgICAgICB0b29sczogdG9vbERlZnMubWFwKCh0b29sKSA9PiAoe1xuICAgICAgICAgIG5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5kZXNjcmlwdGlvbixcbiAgICAgICAgICBpbnB1dFNjaGVtYTogdG9vbC5pbnB1dFNjaGVtYVxuICAgICAgICB9KSlcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChtZXRob2QgPT09IFwidG9vbHMvY2FsbFwiKSB7XG4gICAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYXV0aCgpO1xuICAgICAgY29uc3QgbmFtZSA9IHBhcmFtcz8ubmFtZTtcbiAgICAgIGNvbnN0IGFyZ3MgPSBwYXJhbXM/LmFyZ3VtZW50cyA/PyB7fTtcblxuICAgICAgaWYgKHR5cGVvZiBuYW1lICE9PSBcInN0cmluZ1wiIHx8ICFuYW1lKSB7XG4gICAgICAgIHJldHVybiBqc29uUnBjRXJyb3IoaWQsIC0zMjYwMiwgXCJJbnZhbGlkIHBhcmFtczogdG9vbCBuYW1lIGlzIHJlcXVpcmVkXCIpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlVG9vbChuYW1lLCBhcmdzLCB7XG4gICAgICAgIHVzZXJJZDogc2Vzc2lvbj8udXNlcj8uaWQgPz8gbnVsbFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBqc29uUnBjU3VjY2VzcyhpZCwge1xuICAgICAgICBjb250ZW50OiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogSlNPTi5zdHJpbmdpZnkocmVzdWx0KSB9XSxcbiAgICAgICAgc3RydWN0dXJlZENvbnRlbnQ6IHJlc3VsdFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGpzb25ScGNFcnJvcihpZCwgLTMyNjAxLCBgTWV0aG9kIG5vdCBmb3VuZDogJHttZXRob2QgPz8gXCI8bWlzc2luZz5cIn1gKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkludGVybmFsIGVycm9yXCI7XG4gICAgcmV0dXJuIGpzb25ScGNFcnJvcihpZCwgLTMyMDAwLCBtZXNzYWdlKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImF1dGgiLCJleGVjdXRlVG9vbCIsInRvb2xEZWZzIiwianNvblJwY1N1Y2Nlc3MiLCJpZCIsInJlc3VsdCIsIlJlc3BvbnNlIiwianNvbiIsImpzb25ycGMiLCJqc29uUnBjRXJyb3IiLCJjb2RlIiwibWVzc2FnZSIsImVycm9yIiwic3RhdHVzIiwiR0VUIiwibmFtZSIsInByb3RvY29sIiwiZW5kcG9pbnQiLCJQT1NUIiwicmVxIiwiYm9keSIsIm1ldGhvZCIsInBhcmFtcyIsInByb3RvY29sVmVyc2lvbiIsInNlcnZlckluZm8iLCJ2ZXJzaW9uIiwiY2FwYWJpbGl0aWVzIiwidG9vbHMiLCJtYXAiLCJ0b29sIiwiZGVzY3JpcHRpb24iLCJpbnB1dFNjaGVtYSIsInNlc3Npb24iLCJhcmdzIiwiYXJndW1lbnRzIiwidXNlcklkIiwidXNlciIsImNvbnRlbnQiLCJ0eXBlIiwidGV4dCIsIkpTT04iLCJzdHJpbmdpZnkiLCJzdHJ1Y3R1cmVkQ29udGVudCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/mcp/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/ably-server.ts":
/*!****************************!*\
  !*** ./lib/ably-server.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAblyTokenRequest: () => (/* binding */ createAblyTokenRequest),\n/* harmony export */   publishGameEvent: () => (/* binding */ publishGameEvent),\n/* harmony export */   publishGamesEvent: () => (/* binding */ publishGamesEvent)\n/* harmony export */ });\n/* harmony import */ var ably__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ably */ \"(rsc)/./node_modules/.pnpm/ably@2.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/ably/build/ably-node.js\");\n/* harmony import */ var ably__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ably__WEBPACK_IMPORTED_MODULE_0__);\n\nlet restClient = null;\nfunction getRestClient() {\n    if (restClient) return restClient;\n    const apiKey = process.env.ABLY_API_KEY;\n    if (!apiKey) return null;\n    restClient = new ably__WEBPACK_IMPORTED_MODULE_0__.Rest({\n        key: apiKey\n    });\n    return restClient;\n}\nasync function createAblyTokenRequest(clientId) {\n    const rest = getRestClient();\n    if (!rest) {\n        throw new Error(\"ABLY_API_KEY is not configured\");\n    }\n    return rest.auth.createTokenRequest({\n        clientId,\n        capability: JSON.stringify({\n            \"game:*\": [\n                \"subscribe\"\n            ],\n            games: [\n                \"subscribe\"\n            ]\n        }),\n        ttl: 60 * 60 * 1000\n    });\n}\nasync function publishGameEvent(gameId, eventName, data) {\n    const rest = getRestClient();\n    if (!rest) {\n        return {\n            sent: false,\n            skippedReason: \"ABLY_API_KEY is not configured\"\n        };\n    }\n    try {\n        await rest.channels.get(`game:${gameId}`).publish(eventName, {\n            ...data,\n            gameId,\n            emittedAt: new Date().toISOString()\n        });\n        return {\n            sent: true\n        };\n    } catch (error) {\n        console.error(\"Failed to publish Ably game event\", error);\n        return {\n            sent: false,\n            error: error instanceof Error ? error.message : \"Ably publish failed\"\n        };\n    }\n}\nasync function publishGamesEvent(eventName, data) {\n    const rest = getRestClient();\n    if (!rest) {\n        return {\n            sent: false,\n            skippedReason: \"ABLY_API_KEY is not configured\"\n        };\n    }\n    try {\n        await rest.channels.get(\"games\").publish(eventName, {\n            ...data,\n            emittedAt: new Date().toISOString()\n        });\n        return {\n            sent: true\n        };\n    } catch (error) {\n        console.error(\"Failed to publish Ably games event\", error);\n        return {\n            sent: false,\n            error: error instanceof Error ? error.message : \"Ably publish failed\"\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYWJseS1zZXJ2ZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkI7QUFFN0IsSUFBSUMsYUFBK0I7QUFFbkMsU0FBU0M7SUFDUCxJQUFJRCxZQUFZLE9BQU9BO0lBRXZCLE1BQU1FLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWTtJQUN2QyxJQUFJLENBQUNILFFBQVEsT0FBTztJQUVwQkYsYUFBYSxJQUFJRCxzQ0FBUyxDQUFDO1FBQUVRLEtBQUtMO0lBQU87SUFDekMsT0FBT0Y7QUFDVDtBQUVPLGVBQWVRLHVCQUF1QkMsUUFBZ0I7SUFDM0QsTUFBTUMsT0FBT1Q7SUFDYixJQUFJLENBQUNTLE1BQU07UUFDVCxNQUFNLElBQUlDLE1BQU07SUFDbEI7SUFFQSxPQUFPRCxLQUFLRSxJQUFJLENBQUNDLGtCQUFrQixDQUFDO1FBQ2xDSjtRQUNBSyxZQUFZQyxLQUFLQyxTQUFTLENBQUM7WUFDekIsVUFBVTtnQkFBQzthQUFZO1lBQ3ZCQyxPQUFPO2dCQUFDO2FBQVk7UUFDdEI7UUFDQUMsS0FBSyxLQUFLLEtBQUs7SUFDakI7QUFDRjtBQUVPLGVBQWVDLGlCQUNwQkMsTUFBYyxFQUNkQyxTQUFpQixFQUNqQkMsSUFBNkI7SUFFN0IsTUFBTVosT0FBT1Q7SUFDYixJQUFJLENBQUNTLE1BQU07UUFDVCxPQUFPO1lBQUVhLE1BQU07WUFBT0MsZUFBZTtRQUFpQztJQUN4RTtJQUVBLElBQUk7UUFDRixNQUFNZCxLQUFLZSxRQUFRLENBQUNDLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFBRU4sT0FBTyxDQUFDLEVBQUVPLE9BQU8sQ0FBQ04sV0FBVztZQUMzRCxHQUFHQyxJQUFJO1lBQ1BGO1lBQ0FRLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztRQUNuQztRQUNBLE9BQU87WUFBRVAsTUFBTTtRQUFLO0lBQ3RCLEVBQUUsT0FBT1EsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMscUNBQXFDQTtRQUNuRCxPQUFPO1lBQ0xSLE1BQU07WUFDTlEsT0FBT0EsaUJBQWlCcEIsUUFBUW9CLE1BQU1FLE9BQU8sR0FBRztRQUNsRDtJQUNGO0FBQ0Y7QUFFTyxlQUFlQyxrQkFDcEJiLFNBQWlCLEVBQ2pCQyxJQUE2QjtJQUU3QixNQUFNWixPQUFPVDtJQUNiLElBQUksQ0FBQ1MsTUFBTTtRQUNULE9BQU87WUFBRWEsTUFBTTtZQUFPQyxlQUFlO1FBQWlDO0lBQ3hFO0lBRUEsSUFBSTtRQUNGLE1BQU1kLEtBQUtlLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDLFNBQVNDLE9BQU8sQ0FBQ04sV0FBVztZQUNsRCxHQUFHQyxJQUFJO1lBQ1BNLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztRQUNuQztRQUNBLE9BQU87WUFBRVAsTUFBTTtRQUFLO0lBQ3RCLEVBQUUsT0FBT1EsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsc0NBQXNDQTtRQUNwRCxPQUFPO1lBQ0xSLE1BQU07WUFDTlEsT0FBT0EsaUJBQWlCcEIsUUFBUW9CLE1BQU1FLE9BQU8sR0FBRztRQUNsRDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tY3AtY2hlc3MvLi9saWIvYWJseS1zZXJ2ZXIudHM/YTIyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBBYmx5IGZyb20gXCJhYmx5XCI7XG5cbmxldCByZXN0Q2xpZW50OiBBYmx5LlJlc3QgfCBudWxsID0gbnVsbDtcblxuZnVuY3Rpb24gZ2V0UmVzdENsaWVudCgpIHtcbiAgaWYgKHJlc3RDbGllbnQpIHJldHVybiByZXN0Q2xpZW50O1xuXG4gIGNvbnN0IGFwaUtleSA9IHByb2Nlc3MuZW52LkFCTFlfQVBJX0tFWTtcbiAgaWYgKCFhcGlLZXkpIHJldHVybiBudWxsO1xuXG4gIHJlc3RDbGllbnQgPSBuZXcgQWJseS5SZXN0KHsga2V5OiBhcGlLZXkgfSk7XG4gIHJldHVybiByZXN0Q2xpZW50O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQWJseVRva2VuUmVxdWVzdChjbGllbnRJZDogc3RyaW5nKSB7XG4gIGNvbnN0IHJlc3QgPSBnZXRSZXN0Q2xpZW50KCk7XG4gIGlmICghcmVzdCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkFCTFlfQVBJX0tFWSBpcyBub3QgY29uZmlndXJlZFwiKTtcbiAgfVxuXG4gIHJldHVybiByZXN0LmF1dGguY3JlYXRlVG9rZW5SZXF1ZXN0KHtcbiAgICBjbGllbnRJZCxcbiAgICBjYXBhYmlsaXR5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBcImdhbWU6KlwiOiBbXCJzdWJzY3JpYmVcIl0sXG4gICAgICBnYW1lczogW1wic3Vic2NyaWJlXCJdXG4gICAgfSksXG4gICAgdHRsOiA2MCAqIDYwICogMTAwMFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHB1Ymxpc2hHYW1lRXZlbnQoXG4gIGdhbWVJZDogc3RyaW5nLFxuICBldmVudE5hbWU6IHN0cmluZyxcbiAgZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj5cbikge1xuICBjb25zdCByZXN0ID0gZ2V0UmVzdENsaWVudCgpO1xuICBpZiAoIXJlc3QpIHtcbiAgICByZXR1cm4geyBzZW50OiBmYWxzZSwgc2tpcHBlZFJlYXNvbjogXCJBQkxZX0FQSV9LRVkgaXMgbm90IGNvbmZpZ3VyZWRcIiB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCByZXN0LmNoYW5uZWxzLmdldChgZ2FtZToke2dhbWVJZH1gKS5wdWJsaXNoKGV2ZW50TmFtZSwge1xuICAgICAgLi4uZGF0YSxcbiAgICAgIGdhbWVJZCxcbiAgICAgIGVtaXR0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgfSk7XG4gICAgcmV0dXJuIHsgc2VudDogdHJ1ZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcHVibGlzaCBBYmx5IGdhbWUgZXZlbnRcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBzZW50OiBmYWxzZSxcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQWJseSBwdWJsaXNoIGZhaWxlZFwiXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcHVibGlzaEdhbWVzRXZlbnQoXG4gIGV2ZW50TmFtZTogc3RyaW5nLFxuICBkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuKSB7XG4gIGNvbnN0IHJlc3QgPSBnZXRSZXN0Q2xpZW50KCk7XG4gIGlmICghcmVzdCkge1xuICAgIHJldHVybiB7IHNlbnQ6IGZhbHNlLCBza2lwcGVkUmVhc29uOiBcIkFCTFlfQVBJX0tFWSBpcyBub3QgY29uZmlndXJlZFwiIH07XG4gIH1cblxuICB0cnkge1xuICAgIGF3YWl0IHJlc3QuY2hhbm5lbHMuZ2V0KFwiZ2FtZXNcIikucHVibGlzaChldmVudE5hbWUsIHtcbiAgICAgIC4uLmRhdGEsXG4gICAgICBlbWl0dGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgIH0pO1xuICAgIHJldHVybiB7IHNlbnQ6IHRydWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHB1Ymxpc2ggQWJseSBnYW1lcyBldmVudFwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbnQ6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBYmx5IHB1Ymxpc2ggZmFpbGVkXCJcbiAgICB9O1xuICB9XG59XG4iXSwibmFtZXMiOlsiQWJseSIsInJlc3RDbGllbnQiLCJnZXRSZXN0Q2xpZW50IiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIkFCTFlfQVBJX0tFWSIsIlJlc3QiLCJrZXkiLCJjcmVhdGVBYmx5VG9rZW5SZXF1ZXN0IiwiY2xpZW50SWQiLCJyZXN0IiwiRXJyb3IiLCJhdXRoIiwiY3JlYXRlVG9rZW5SZXF1ZXN0IiwiY2FwYWJpbGl0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnYW1lcyIsInR0bCIsInB1Ymxpc2hHYW1lRXZlbnQiLCJnYW1lSWQiLCJldmVudE5hbWUiLCJkYXRhIiwic2VudCIsInNraXBwZWRSZWFzb24iLCJjaGFubmVscyIsImdldCIsInB1Ymxpc2giLCJlbWl0dGVkQXQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwicHVibGlzaEdhbWVzRXZlbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/ably-server.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var _next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @next-auth/prisma-adapter */ \"(rsc)/./node_modules/.pnpm/@next-auth+prisma-adapter@1.0.7_@prisma+client@6.19.2_prisma@6.19.2_typescript@5.9.3__t_aae0442f422bcd882b46f19e03fad1f5/node_modules/@next-auth/prisma-adapter/dist/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/.pnpm/next-auth@4.24.13_next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1__nodemailer@_558663b42a6b7b1eef2ff3cbd3697141/node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/google */ \"(rsc)/./node_modules/.pnpm/next-auth@4.24.13_next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1__nodemailer@_558663b42a6b7b1eef2ff3cbd3697141/node_modules/next-auth/providers/google.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n\n\n\n\nconst providers = [];\nif (process.env.GOOGLE_ID && process.env.GOOGLE_SECRET) {\n    providers.push((0,next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n        clientId: process.env.GOOGLE_ID,\n        clientSecret: process.env.GOOGLE_SECRET\n    }));\n}\nconst authOptions = {\n    adapter: (0,_next_auth_prisma_adapter__WEBPACK_IMPORTED_MODULE_0__.PrismaAdapter)(_lib_db__WEBPACK_IMPORTED_MODULE_3__.db),\n    session: {\n        strategy: \"database\"\n    },\n    providers,\n    callbacks: {\n        session: ({ session, user })=>{\n            if (session.user) {\n                session.user.id = user.id;\n            }\n            return session;\n        }\n    }\n};\nfunction auth() {\n    return (0,next_auth__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(authOptions);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBEO0FBRWI7QUFDVztBQUUxQjtBQUU5QixNQUFNSSxZQUFZLEVBQUU7QUFFcEIsSUFBSUMsUUFBUUMsR0FBRyxDQUFDQyxTQUFTLElBQUlGLFFBQVFDLEdBQUcsQ0FBQ0UsYUFBYSxFQUFFO0lBQ3RESixVQUFVSyxJQUFJLENBQ1pQLHNFQUFjQSxDQUFDO1FBQ2JRLFVBQVVMLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUztRQUMvQkksY0FBY04sUUFBUUMsR0FBRyxDQUFDRSxhQUFhO0lBQ3pDO0FBRUo7QUFFTyxNQUFNSSxjQUErQjtJQUMxQ0MsU0FBU2Isd0VBQWFBLENBQUNHLHVDQUFFQTtJQUN6QlcsU0FBUztRQUNQQyxVQUFVO0lBQ1o7SUFDQVg7SUFDQVksV0FBVztRQUNURixTQUFTLENBQUMsRUFBRUEsT0FBTyxFQUFFRyxJQUFJLEVBQUU7WUFDekIsSUFBSUgsUUFBUUcsSUFBSSxFQUFFO2dCQUNoQkgsUUFBUUcsSUFBSSxDQUFDQyxFQUFFLEdBQUdELEtBQUtDLEVBQUU7WUFDM0I7WUFDQSxPQUFPSjtRQUNUO0lBQ0Y7QUFDRixFQUFFO0FBRUssU0FBU0s7SUFDZCxPQUFPbEIsMkRBQWdCQSxDQUFDVztBQUMxQiIsInNvdXJjZXMiOlsid2VicGFjazovL21jcC1jaGVzcy8uL2xpYi9hdXRoLnRzP2JmN2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQWRhcHRlciB9IGZyb20gXCJAbmV4dC1hdXRoL3ByaXNtYS1hZGFwdGVyXCI7XG5pbXBvcnQgdHlwZSB7IE5leHRBdXRoT3B0aW9ucyB9IGZyb20gXCJuZXh0LWF1dGhcIjtcbmltcG9ydCB7IGdldFNlcnZlclNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgR29vZ2xlUHJvdmlkZXIgZnJvbSBcIm5leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlXCI7XG5cbmltcG9ydCB7IGRiIH0gZnJvbSBcIkAvbGliL2RiXCI7XG5cbmNvbnN0IHByb3ZpZGVycyA9IFtdO1xuXG5pZiAocHJvY2Vzcy5lbnYuR09PR0xFX0lEICYmIHByb2Nlc3MuZW52LkdPT0dMRV9TRUNSRVQpIHtcbiAgcHJvdmlkZXJzLnB1c2goXG4gICAgR29vZ2xlUHJvdmlkZXIoe1xuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkdPT0dMRV9JRCxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX1NFQ1JFVFxuICAgIH0pXG4gICk7XG59XG5cbmV4cG9ydCBjb25zdCBhdXRoT3B0aW9uczogTmV4dEF1dGhPcHRpb25zID0ge1xuICBhZGFwdGVyOiBQcmlzbWFBZGFwdGVyKGRiKSxcbiAgc2Vzc2lvbjoge1xuICAgIHN0cmF0ZWd5OiBcImRhdGFiYXNlXCJcbiAgfSxcbiAgcHJvdmlkZXJzLFxuICBjYWxsYmFja3M6IHtcbiAgICBzZXNzaW9uOiAoeyBzZXNzaW9uLCB1c2VyIH0pID0+IHtcbiAgICAgIGlmIChzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdXNlci5pZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH1cbiAgfVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGF1dGgoKSB7XG4gIHJldHVybiBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbn1cbiJdLCJuYW1lcyI6WyJQcmlzbWFBZGFwdGVyIiwiZ2V0U2VydmVyU2Vzc2lvbiIsIkdvb2dsZVByb3ZpZGVyIiwiZGIiLCJwcm92aWRlcnMiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0lEIiwiR09PR0xFX1NFQ1JFVCIsInB1c2giLCJjbGllbnRJZCIsImNsaWVudFNlY3JldCIsImF1dGhPcHRpb25zIiwiYWRhcHRlciIsInNlc3Npb24iLCJzdHJhdGVneSIsImNhbGxiYWNrcyIsInVzZXIiLCJpZCIsImF1dGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/chess-utils.ts":
/*!****************************!*\
  !*** ./lib/chess-utils.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPiecesFromFen: () => (/* binding */ getPiecesFromFen),\n/* harmony export */   renderBoardSvg: () => (/* binding */ renderBoardSvg)\n/* harmony export */ });\n/* harmony import */ var chess_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chess.js */ \"(rsc)/./node_modules/.pnpm/chess.js@1.4.0/node_modules/chess.js/dist/esm/chess.js\");\n\nconst pieceToUnicode = {\n    p: \"♟\",\n    r: \"♜\",\n    n: \"♞\",\n    b: \"♝\",\n    q: \"♛\",\n    k: \"♚\",\n    P: \"♙\",\n    R: \"♖\",\n    N: \"♘\",\n    B: \"♗\",\n    Q: \"♕\",\n    K: \"♔\"\n};\nfunction getPiecesFromFen(fen) {\n    const chess = new chess_js__WEBPACK_IMPORTED_MODULE_0__.Chess(fen);\n    const board = chess.board();\n    const files = [\n        \"a\",\n        \"b\",\n        \"c\",\n        \"d\",\n        \"e\",\n        \"f\",\n        \"g\",\n        \"h\"\n    ];\n    const pieces = [];\n    for(let rankIndex = 0; rankIndex < 8; rankIndex += 1){\n        const rank = 8 - rankIndex;\n        for(let fileIndex = 0; fileIndex < 8; fileIndex += 1){\n            const piece = board[rankIndex]?.[fileIndex];\n            if (!piece) continue;\n            pieces.push({\n                square: `${files[fileIndex]}${rank}`,\n                type: piece.type,\n                color: piece.color\n            });\n        }\n    }\n    return pieces;\n}\nfunction renderBoardSvg(fen, size = 560) {\n    const chess = new chess_js__WEBPACK_IMPORTED_MODULE_0__.Chess(fen);\n    const board = chess.board();\n    const square = size / 8;\n    const files = [\n        \"a\",\n        \"b\",\n        \"c\",\n        \"d\",\n        \"e\",\n        \"f\",\n        \"g\",\n        \"h\"\n    ];\n    let out = \"\";\n    for(let rankIndex = 0; rankIndex < 8; rankIndex += 1){\n        const rank = 8 - rankIndex;\n        for(let fileIndex = 0; fileIndex < 8; fileIndex += 1){\n            const x = fileIndex * square;\n            const y = rankIndex * square;\n            const light = (rankIndex + fileIndex) % 2 === 0;\n            const fill = light ? \"#f0d9b5\" : \"#b58863\";\n            out += `<rect x='${x}' y='${y}' width='${square}' height='${square}' fill='${fill}' />`;\n            const piece = board[rankIndex]?.[fileIndex];\n            if (!piece) continue;\n            const key = piece.color === \"w\" ? piece.type.toUpperCase() : piece.type;\n            const symbol = pieceToUnicode[key];\n            const label = `${files[fileIndex]}${rank}`;\n            out += `<text x='${x + square / 2}' y='${y + square * 0.66}' text-anchor='middle' font-size='${square * 0.72}' font-family='\\\"Times New Roman\\\", serif'>${symbol}</text>`;\n            out += `<title>${label}</title>`;\n        }\n    }\n    return `<svg xmlns='http://www.w3.org/2000/svg' width='${size}' height='${size}' viewBox='0 0 ${size} ${size}'>${out}</svg>`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUEsS0FBSyxDQUFDLEVBQUVBLEtBQUssRUFBRSxFQUFFQyxJQUFJLE1BQU0sQ0FBQztBQUM5SCIsInNvdXJjZXMiOlsid2VicGFjazovL21jcC1jaGVzcy8uL2xpYi9jaGVzcy11dGlscy50cz9lMjBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENoZXNzIH0gZnJvbSBcImNoZXNzLmpzXCI7XG5cbmNvbnN0IHBpZWNlVG9Vbmljb2RlOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICBwOiBcIuKZn1wiLFxuICByOiBcIuKZnFwiLFxuICBuOiBcIuKZnlwiLFxuICBiOiBcIuKZnVwiLFxuICBxOiBcIuKZm1wiLFxuICBrOiBcIuKZmlwiLFxuICBQOiBcIuKZmVwiLFxuICBSOiBcIuKZllwiLFxuICBOOiBcIuKZmFwiLFxuICBCOiBcIuKZl1wiLFxuICBROiBcIuKZlVwiLFxuICBLOiBcIuKZlFwiXG59O1xuXG5leHBvcnQgdHlwZSBQaWVjZVN0YXR1cyA9IHtcbiAgc3F1YXJlOiBzdHJpbmc7XG4gIHR5cGU6IFwicFwiIHwgXCJyXCIgfCBcIm5cIiB8IFwiYlwiIHwgXCJxXCIgfCBcImtcIjtcbiAgY29sb3I6IFwid1wiIHwgXCJiXCI7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGllY2VzRnJvbUZlbihmZW46IHN0cmluZyk6IFBpZWNlU3RhdHVzW10ge1xuICBjb25zdCBjaGVzcyA9IG5ldyBDaGVzcyhmZW4pO1xuICBjb25zdCBib2FyZCA9IGNoZXNzLmJvYXJkKCk7XG4gIGNvbnN0IGZpbGVzID0gW1wiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImVcIiwgXCJmXCIsIFwiZ1wiLCBcImhcIl07XG4gIGNvbnN0IHBpZWNlczogUGllY2VTdGF0dXNbXSA9IFtdO1xuXG4gIGZvciAobGV0IHJhbmtJbmRleCA9IDA7IHJhbmtJbmRleCA8IDg7IHJhbmtJbmRleCArPSAxKSB7XG4gICAgY29uc3QgcmFuayA9IDggLSByYW5rSW5kZXg7XG4gICAgZm9yIChsZXQgZmlsZUluZGV4ID0gMDsgZmlsZUluZGV4IDwgODsgZmlsZUluZGV4ICs9IDEpIHtcbiAgICAgIGNvbnN0IHBpZWNlID0gYm9hcmRbcmFua0luZGV4XT8uW2ZpbGVJbmRleF07XG4gICAgICBpZiAoIXBpZWNlKSBjb250aW51ZTtcbiAgICAgIHBpZWNlcy5wdXNoKHtcbiAgICAgICAgc3F1YXJlOiBgJHtmaWxlc1tmaWxlSW5kZXhdfSR7cmFua31gLFxuICAgICAgICB0eXBlOiBwaWVjZS50eXBlLFxuICAgICAgICBjb2xvcjogcGllY2UuY29sb3JcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBwaWVjZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZW5kZXJCb2FyZFN2ZyhmZW46IHN0cmluZywgc2l6ZSA9IDU2MCk6IHN0cmluZyB7XG4gIGNvbnN0IGNoZXNzID0gbmV3IENoZXNzKGZlbik7XG4gIGNvbnN0IGJvYXJkID0gY2hlc3MuYm9hcmQoKTtcbiAgY29uc3Qgc3F1YXJlID0gc2l6ZSAvIDg7XG4gIGNvbnN0IGZpbGVzID0gW1wiYVwiLCBcImJcIiwgXCJjXCIsIFwiZFwiLCBcImVcIiwgXCJmXCIsIFwiZ1wiLCBcImhcIl07XG4gIGxldCBvdXQgPSBcIlwiO1xuXG4gIGZvciAobGV0IHJhbmtJbmRleCA9IDA7IHJhbmtJbmRleCA8IDg7IHJhbmtJbmRleCArPSAxKSB7XG4gICAgY29uc3QgcmFuayA9IDggLSByYW5rSW5kZXg7XG4gICAgZm9yIChsZXQgZmlsZUluZGV4ID0gMDsgZmlsZUluZGV4IDwgODsgZmlsZUluZGV4ICs9IDEpIHtcbiAgICAgIGNvbnN0IHggPSBmaWxlSW5kZXggKiBzcXVhcmU7XG4gICAgICBjb25zdCB5ID0gcmFua0luZGV4ICogc3F1YXJlO1xuICAgICAgY29uc3QgbGlnaHQgPSAocmFua0luZGV4ICsgZmlsZUluZGV4KSAlIDIgPT09IDA7XG4gICAgICBjb25zdCBmaWxsID0gbGlnaHQgPyBcIiNmMGQ5YjVcIiA6IFwiI2I1ODg2M1wiO1xuICAgICAgb3V0ICs9IGA8cmVjdCB4PScke3h9JyB5PScke3l9JyB3aWR0aD0nJHtzcXVhcmV9JyBoZWlnaHQ9JyR7c3F1YXJlfScgZmlsbD0nJHtmaWxsfScgLz5gO1xuXG4gICAgICBjb25zdCBwaWVjZSA9IGJvYXJkW3JhbmtJbmRleF0/LltmaWxlSW5kZXhdO1xuICAgICAgaWYgKCFwaWVjZSkgY29udGludWU7XG5cbiAgICAgIGNvbnN0IGtleSA9IHBpZWNlLmNvbG9yID09PSBcIndcIiA/IHBpZWNlLnR5cGUudG9VcHBlckNhc2UoKSA6IHBpZWNlLnR5cGU7XG4gICAgICBjb25zdCBzeW1ib2wgPSBwaWVjZVRvVW5pY29kZVtrZXldO1xuICAgICAgY29uc3QgbGFiZWwgPSBgJHtmaWxlc1tmaWxlSW5kZXhdfSR7cmFua31gO1xuXG4gICAgICBvdXQgKz0gYDx0ZXh0IHg9JyR7eCArIHNxdWFyZSAvIDJ9JyB5PScke3kgKyBzcXVhcmUgKiAwLjY2fScgdGV4dC1hbmNob3I9J21pZGRsZScgZm9udC1zaXplPScke3NxdWFyZSAqIDAuNzJ9JyBmb250LWZhbWlseT0nXFxcIlRpbWVzIE5ldyBSb21hblxcXCIsIHNlcmlmJz4ke3N5bWJvbH08L3RleHQ+YDtcbiAgICAgIG91dCArPSBgPHRpdGxlPiR7bGFiZWx9PC90aXRsZT5gO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBgPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScke3NpemV9JyBoZWlnaHQ9JyR7c2l6ZX0nIHZpZXdCb3g9JzAgMCAke3NpemV9ICR7c2l6ZX0nPiR7b3V0fTwvc3ZnPmA7XG59XG4iXSwibmFtZXMiOlsiQ2hlc3MiLCJwaWVjZVRvVW5pY29kZSIsInAiLCJyIiwibiIsImIiLCJxIiwiayIsIlAiLCJSIiwiTiIsIkIiLCJRIiwiSyIsImdldFBpZWNlc0Zyb21GZW4iLCJmZW4iLCJjaGVzcyIsImJvYXJkIiwiZmlsZXMiLCJwaWVjZXMiLCJyYW5rSW5kZXgiLCJyYW5rIiwiZmlsZUluZGV4IiwicGllY2UiLCJwdXNoIiwic3F1YXJlIiwidHlwZSIsImNvbG9yIiwicmVuZGVyQm9hcmRTdmciLCJzaXplIiwib3V0IiwieCIsInkiLCJsaWdodCIsImZpbGwiLCJrZXkiLCJ0b1VwcGVyQ2FzZSIsInN5bWJvbCIsImxhYmVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/chess-utils.ts\n");

/***/ }),

/***/ "(rsc)/./lib/db.ts":
/*!*******************!*\
  !*** ./lib/db.ts ***!
  \*******************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   db: () => (/* binding */ db)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var node_path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node:path */ \"node:path\");\n/* harmony import */ var node_path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(node_path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst db = global.prisma || new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    datasources: {\n        db: {\n            url: normalizeDatabaseUrl(process.env.DATABASE_URL)\n        }\n    },\n    log:  true ? [\n        \"error\",\n        \"warn\"\n    ] : 0\n});\nif (true) {\n    global.prisma = db;\n}\nfunction normalizeDatabaseUrl(rawUrl) {\n    if (!rawUrl || !rawUrl.startsWith(\"file:\")) {\n        return rawUrl;\n    }\n    const fileTarget = rawUrl.slice(\"file:\".length);\n    // Keep absolute sqlite paths as-is.\n    if (fileTarget.startsWith(\"/\") || fileTarget.startsWith(\"//\")) {\n        return rawUrl;\n    }\n    // Resolve relative sqlite paths against the app cwd.\n    const absolutePath = node_path__WEBPACK_IMPORTED_MODULE_1___default().resolve(process.cwd(), fileTarget);\n    return `file:${absolutePath}`;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEM7QUFDakI7QUFPdEIsTUFBTUUsS0FDWEMsT0FBT0MsTUFBTSxJQUNiLElBQUlKLHdEQUFZQSxDQUFDO0lBQ2ZLLGFBQWE7UUFDWEgsSUFBSTtZQUNGSSxLQUFLQyxxQkFBcUJDLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWTtRQUNwRDtJQUNGO0lBQ0FDLEtBQUtILEtBQXNDLEdBQUc7UUFBQztRQUFTO0tBQU8sR0FBRyxDQUFTO0FBQzdFLEdBQUc7QUFFTCxJQUFJQSxJQUFxQyxFQUFFO0lBQ3pDTCxPQUFPQyxNQUFNLEdBQUdGO0FBQ2xCO0FBRUEsU0FBU0sscUJBQXFCSyxNQUEwQjtJQUN0RCxJQUFJLENBQUNBLFVBQVUsQ0FBQ0EsT0FBT0MsVUFBVSxDQUFDLFVBQVU7UUFDMUMsT0FBT0Q7SUFDVDtJQUVBLE1BQU1FLGFBQWFGLE9BQU9HLEtBQUssQ0FBQyxRQUFRQyxNQUFNO0lBRTlDLG9DQUFvQztJQUNwQyxJQUFJRixXQUFXRCxVQUFVLENBQUMsUUFBUUMsV0FBV0QsVUFBVSxDQUFDLE9BQU87UUFDN0QsT0FBT0Q7SUFDVDtJQUVBLHFEQUFxRDtJQUNyRCxNQUFNSyxlQUFlaEIsd0RBQVksQ0FBQ08sUUFBUVcsR0FBRyxJQUFJTDtJQUNqRCxPQUFPLENBQUMsS0FBSyxFQUFFRyxhQUFhLENBQUM7QUFDL0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tY3AtY2hlc3MvLi9saWIvZGIudHM/MWRmMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJub2RlOnBhdGhcIjtcblxuZGVjbGFyZSBnbG9iYWwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gIHZhciBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGNvbnN0IGRiID1cbiAgZ2xvYmFsLnByaXNtYSB8fFxuICBuZXcgUHJpc21hQ2xpZW50KHtcbiAgICBkYXRhc291cmNlczoge1xuICAgICAgZGI6IHtcbiAgICAgICAgdXJsOiBub3JtYWxpemVEYXRhYmFzZVVybChwcm9jZXNzLmVudi5EQVRBQkFTRV9VUkwpXG4gICAgICB9XG4gICAgfSxcbiAgICBsb2c6IHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIgPyBbXCJlcnJvclwiLCBcIndhcm5cIl0gOiBbXCJlcnJvclwiXVxuICB9KTtcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBnbG9iYWwucHJpc21hID0gZGI7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZURhdGFiYXNlVXJsKHJhd1VybDogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgaWYgKCFyYXdVcmwgfHwgIXJhd1VybC5zdGFydHNXaXRoKFwiZmlsZTpcIikpIHtcbiAgICByZXR1cm4gcmF3VXJsO1xuICB9XG5cbiAgY29uc3QgZmlsZVRhcmdldCA9IHJhd1VybC5zbGljZShcImZpbGU6XCIubGVuZ3RoKTtcblxuICAvLyBLZWVwIGFic29sdXRlIHNxbGl0ZSBwYXRocyBhcy1pcy5cbiAgaWYgKGZpbGVUYXJnZXQuc3RhcnRzV2l0aChcIi9cIikgfHwgZmlsZVRhcmdldC5zdGFydHNXaXRoKFwiLy9cIikpIHtcbiAgICByZXR1cm4gcmF3VXJsO1xuICB9XG5cbiAgLy8gUmVzb2x2ZSByZWxhdGl2ZSBzcWxpdGUgcGF0aHMgYWdhaW5zdCB0aGUgYXBwIGN3ZC5cbiAgY29uc3QgYWJzb2x1dGVQYXRoID0gcGF0aC5yZXNvbHZlKHByb2Nlc3MuY3dkKCksIGZpbGVUYXJnZXQpO1xuICByZXR1cm4gYGZpbGU6JHthYnNvbHV0ZVBhdGh9YDtcbn1cbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwYXRoIiwiZGIiLCJnbG9iYWwiLCJwcmlzbWEiLCJkYXRhc291cmNlcyIsInVybCIsIm5vcm1hbGl6ZURhdGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIkRBVEFCQVNFX1VSTCIsImxvZyIsInJhd1VybCIsInN0YXJ0c1dpdGgiLCJmaWxlVGFyZ2V0Iiwic2xpY2UiLCJsZW5ndGgiLCJhYnNvbHV0ZVBhdGgiLCJyZXNvbHZlIiwiY3dkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./lib/email.ts":
/*!**********************!*\
  !*** ./lib/email.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendGameInvitationEmail: () => (/* binding */ sendGameInvitationEmail),\n/* harmony export */   sendTurnReminderEmail: () => (/* binding */ sendTurnReminderEmail)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/.pnpm/nodemailer@7.0.13/node_modules/nodemailer/lib/nodemailer.js\");\n\nlet transporterCache = null;\nfunction getAppUrl() {\n    return (process.env.NEXTAUTH_URL || \"http://localhost:3000\").replace(/\\/$/, \"\");\n}\nfunction getFromEmail() {\n    return process.env.SMTP_FROM || \"no-reply@localhost\";\n}\nfunction getTransporter() {\n    if (transporterCache) {\n        return transporterCache;\n    }\n    const host = process.env.SMTP_HOST;\n    const portRaw = process.env.SMTP_PORT;\n    const user = process.env.SMTP_USER;\n    const pass = process.env.SMTP_PASS;\n    if (!host || !portRaw || !user || !pass) {\n        return null;\n    }\n    const port = Number.parseInt(portRaw, 10);\n    if (!Number.isFinite(port)) {\n        return null;\n    }\n    const secure = process.env.SMTP_SECURE ? process.env.SMTP_SECURE === \"true\" : port === 465;\n    transporterCache = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n        host,\n        port,\n        secure,\n        auth: {\n            user,\n            pass\n        }\n    });\n    return transporterCache;\n}\nasync function sendMail(params) {\n    const transporter = getTransporter();\n    if (!transporter) {\n        return {\n            sent: false,\n            skippedReason: \"SMTP not configured\"\n        };\n    }\n    try {\n        const info = await transporter.sendMail({\n            from: getFromEmail(),\n            to: params.to,\n            subject: params.subject,\n            text: params.text,\n            html: params.html\n        });\n        return {\n            sent: true,\n            messageId: info.messageId\n        };\n    } catch (error) {\n        return {\n            sent: false,\n            error: error instanceof Error ? error.message : \"SMTP send failed\"\n        };\n    }\n}\nasync function sendGameInvitationEmail(args) {\n    const gameUrl = `${getAppUrl()}/games/${args.gameId}`;\n    const inviter = args.invitedByName || args.invitedByEmail || \"A player\";\n    const registrationNote = args.opponentExists ? \"Your opponent started a game with you.\" : \"Your opponent started a game with you. This email is not registered yet, but you can sign in with Google using this email to play.\";\n    return sendMail({\n        to: args.toEmail,\n        subject: \"You were invited to a chess game\",\n        text: `${inviter} invited you to a chess game.\\n\\n${registrationNote}\\n\\nOpen game: ${gameUrl}`,\n        html: `<p><strong>${escapeHtml(inviter)}</strong> invited you to a chess game.</p><p>${escapeHtml(registrationNote)}</p><p><a href=\\\"${escapeHtml(gameUrl)}\\\">Open game</a></p>`\n    });\n}\nasync function sendTurnReminderEmail(args) {\n    const gameUrl = `${getAppUrl()}/games/${args.gameId}`;\n    return sendMail({\n        to: args.toEmail,\n        subject: \"Chess reminder: it's your move\",\n        text: `It's your turn to move in game ${args.gameId}.\\n\\nLast move was ${Math.floor(args.minutesSinceLastMove)} minute(s) ago (threshold: ${args.minMinutesSinceLastMove} minute(s)).\\n\\nOpen game: ${gameUrl}`,\n        html: `<p>It's your turn to move in game <code>${escapeHtml(args.gameId)}</code>.</p><p>Last move was ${Math.floor(args.minutesSinceLastMove)} minute(s) ago (threshold: ${args.minMinutesSinceLastMove} minute(s)).</p><p><a href=\\\"${escapeHtml(gameUrl)}\\\">Open game</a></p>`\n    });\n}\nfunction escapeHtml(value) {\n    return value.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\\\"/g, \"&quot;\").replace(/'/g, \"&#039;\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TyxLQUFLRSxNQUFNLENBQUMsbUJBQW1CLEVBQUVTLEtBQUtDLEtBQUssQ0FDakZaLEtBQUthLG9CQUFvQixFQUN6QiwyQkFBMkIsRUFBRWIsS0FBS2MsdUJBQXVCLENBQUMsMkJBQTJCLEVBQUViLFFBQVEsQ0FBQztRQUNsR1AsTUFBTSxDQUFDLHdDQUF3QyxFQUFFZSxXQUFXVCxLQUFLRSxNQUFNLEVBQUUsNkJBQTZCLEVBQUVTLEtBQUtDLEtBQUssQ0FDaEhaLEtBQUthLG9CQUFvQixFQUN6QiwyQkFBMkIsRUFBRWIsS0FBS2MsdUJBQXVCLENBQUMsNkJBQTZCLEVBQUVMLFdBQ3pGUixTQUNBLG9CQUFvQixDQUFDO0lBQ3pCO0FBQ0Y7QUFFQSxTQUFTUSxXQUFXTSxLQUFhO0lBQy9CLE9BQU9BLE1BQ0puRCxPQUFPLENBQUMsTUFBTSxTQUNkQSxPQUFPLENBQUMsTUFBTSxRQUNkQSxPQUFPLENBQUMsTUFBTSxRQUNkQSxPQUFPLENBQUMsT0FBTyxVQUNmQSxPQUFPLENBQUMsTUFBTTtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL21jcC1jaGVzcy8uL2xpYi9lbWFpbC50cz84MjgxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBub2RlbWFpbGVyIGZyb20gXCJub2RlbWFpbGVyXCI7XG5cbnR5cGUgTWFpbFJlc3VsdCA9IHtcbiAgc2VudDogYm9vbGVhbjtcbiAgc2tpcHBlZFJlYXNvbj86IHN0cmluZztcbiAgZXJyb3I/OiBzdHJpbmc7XG4gIG1lc3NhZ2VJZD86IHN0cmluZztcbn07XG5cbnR5cGUgR2FtZUludml0ZUVtYWlsQXJncyA9IHtcbiAgdG9FbWFpbDogc3RyaW5nO1xuICBpbnZpdGVkQnlFbWFpbDogc3RyaW5nIHwgbnVsbDtcbiAgaW52aXRlZEJ5TmFtZTogc3RyaW5nIHwgbnVsbDtcbiAgZ2FtZUlkOiBzdHJpbmc7XG4gIG9wcG9uZW50RXhpc3RzOiBib29sZWFuO1xufTtcblxudHlwZSBUdXJuUmVtaW5kZXJFbWFpbEFyZ3MgPSB7XG4gIHRvRW1haWw6IHN0cmluZztcbiAgZ2FtZUlkOiBzdHJpbmc7XG4gIG1pbnV0ZXNTaW5jZUxhc3RNb3ZlOiBudW1iZXI7XG4gIG1pbk1pbnV0ZXNTaW5jZUxhc3RNb3ZlOiBudW1iZXI7XG59O1xuXG5sZXQgdHJhbnNwb3J0ZXJDYWNoZTogbm9kZW1haWxlci5UcmFuc3BvcnRlciB8IG51bGwgPSBudWxsO1xuXG5mdW5jdGlvbiBnZXRBcHBVcmwoKSB7XG4gIHJldHVybiAocHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMIHx8IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIpLnJlcGxhY2UoL1xcLyQvLCBcIlwiKTtcbn1cblxuZnVuY3Rpb24gZ2V0RnJvbUVtYWlsKCkge1xuICByZXR1cm4gcHJvY2Vzcy5lbnYuU01UUF9GUk9NIHx8IFwibm8tcmVwbHlAbG9jYWxob3N0XCI7XG59XG5cbmZ1bmN0aW9uIGdldFRyYW5zcG9ydGVyKCk6IG5vZGVtYWlsZXIuVHJhbnNwb3J0ZXIgfCBudWxsIHtcbiAgaWYgKHRyYW5zcG9ydGVyQ2FjaGUpIHtcbiAgICByZXR1cm4gdHJhbnNwb3J0ZXJDYWNoZTtcbiAgfVxuXG4gIGNvbnN0IGhvc3QgPSBwcm9jZXNzLmVudi5TTVRQX0hPU1Q7XG4gIGNvbnN0IHBvcnRSYXcgPSBwcm9jZXNzLmVudi5TTVRQX1BPUlQ7XG4gIGNvbnN0IHVzZXIgPSBwcm9jZXNzLmVudi5TTVRQX1VTRVI7XG4gIGNvbnN0IHBhc3MgPSBwcm9jZXNzLmVudi5TTVRQX1BBU1M7XG5cbiAgaWYgKCFob3N0IHx8ICFwb3J0UmF3IHx8ICF1c2VyIHx8ICFwYXNzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb25zdCBwb3J0ID0gTnVtYmVyLnBhcnNlSW50KHBvcnRSYXcsIDEwKTtcbiAgaWYgKCFOdW1iZXIuaXNGaW5pdGUocG9ydCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGNvbnN0IHNlY3VyZSA9IHByb2Nlc3MuZW52LlNNVFBfU0VDVVJFXG4gICAgPyBwcm9jZXNzLmVudi5TTVRQX1NFQ1VSRSA9PT0gXCJ0cnVlXCJcbiAgICA6IHBvcnQgPT09IDQ2NTtcblxuICB0cmFuc3BvcnRlckNhY2hlID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoe1xuICAgIGhvc3QsXG4gICAgcG9ydCxcbiAgICBzZWN1cmUsXG4gICAgYXV0aDogeyB1c2VyLCBwYXNzIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHRyYW5zcG9ydGVyQ2FjaGU7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHNlbmRNYWlsKHBhcmFtczoge1xuICB0bzogc3RyaW5nO1xuICBzdWJqZWN0OiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgaHRtbDogc3RyaW5nO1xufSk6IFByb21pc2U8TWFpbFJlc3VsdD4ge1xuICBjb25zdCB0cmFuc3BvcnRlciA9IGdldFRyYW5zcG9ydGVyKCk7XG4gIGlmICghdHJhbnNwb3J0ZXIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VudDogZmFsc2UsXG4gICAgICBza2lwcGVkUmVhc29uOiBcIlNNVFAgbm90IGNvbmZpZ3VyZWRcIlxuICAgIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGluZm8gPSBhd2FpdCB0cmFuc3BvcnRlci5zZW5kTWFpbCh7XG4gICAgICBmcm9tOiBnZXRGcm9tRW1haWwoKSxcbiAgICAgIHRvOiBwYXJhbXMudG8sXG4gICAgICBzdWJqZWN0OiBwYXJhbXMuc3ViamVjdCxcbiAgICAgIHRleHQ6IHBhcmFtcy50ZXh0LFxuICAgICAgaHRtbDogcGFyYW1zLmh0bWxcbiAgICB9KTtcblxuICAgIHJldHVybiB7XG4gICAgICBzZW50OiB0cnVlLFxuICAgICAgbWVzc2FnZUlkOiBpbmZvLm1lc3NhZ2VJZFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNlbnQ6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJTTVRQIHNlbmQgZmFpbGVkXCJcbiAgICB9O1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZW5kR2FtZUludml0YXRpb25FbWFpbChcbiAgYXJnczogR2FtZUludml0ZUVtYWlsQXJnc1xuKTogUHJvbWlzZTxNYWlsUmVzdWx0PiB7XG4gIGNvbnN0IGdhbWVVcmwgPSBgJHtnZXRBcHBVcmwoKX0vZ2FtZXMvJHthcmdzLmdhbWVJZH1gO1xuICBjb25zdCBpbnZpdGVyID0gYXJncy5pbnZpdGVkQnlOYW1lIHx8IGFyZ3MuaW52aXRlZEJ5RW1haWwgfHwgXCJBIHBsYXllclwiO1xuICBjb25zdCByZWdpc3RyYXRpb25Ob3RlID0gYXJncy5vcHBvbmVudEV4aXN0c1xuICAgID8gXCJZb3VyIG9wcG9uZW50IHN0YXJ0ZWQgYSBnYW1lIHdpdGggeW91LlwiXG4gICAgOiBcIllvdXIgb3Bwb25lbnQgc3RhcnRlZCBhIGdhbWUgd2l0aCB5b3UuIFRoaXMgZW1haWwgaXMgbm90IHJlZ2lzdGVyZWQgeWV0LCBidXQgeW91IGNhbiBzaWduIGluIHdpdGggR29vZ2xlIHVzaW5nIHRoaXMgZW1haWwgdG8gcGxheS5cIjtcblxuICByZXR1cm4gc2VuZE1haWwoe1xuICAgIHRvOiBhcmdzLnRvRW1haWwsXG4gICAgc3ViamVjdDogXCJZb3Ugd2VyZSBpbnZpdGVkIHRvIGEgY2hlc3MgZ2FtZVwiLFxuICAgIHRleHQ6IGAke2ludml0ZXJ9IGludml0ZWQgeW91IHRvIGEgY2hlc3MgZ2FtZS5cXG5cXG4ke3JlZ2lzdHJhdGlvbk5vdGV9XFxuXFxuT3BlbiBnYW1lOiAke2dhbWVVcmx9YCxcbiAgICBodG1sOiBgPHA+PHN0cm9uZz4ke2VzY2FwZUh0bWwoaW52aXRlcil9PC9zdHJvbmc+IGludml0ZWQgeW91IHRvIGEgY2hlc3MgZ2FtZS48L3A+PHA+JHtlc2NhcGVIdG1sKFxuICAgICAgcmVnaXN0cmF0aW9uTm90ZVxuICAgICl9PC9wPjxwPjxhIGhyZWY9XFxcIiR7ZXNjYXBlSHRtbChnYW1lVXJsKX1cXFwiPk9wZW4gZ2FtZTwvYT48L3A+YFxuICB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRUdXJuUmVtaW5kZXJFbWFpbChcbiAgYXJnczogVHVyblJlbWluZGVyRW1haWxBcmdzXG4pOiBQcm9taXNlPE1haWxSZXN1bHQ+IHtcbiAgY29uc3QgZ2FtZVVybCA9IGAke2dldEFwcFVybCgpfS9nYW1lcy8ke2FyZ3MuZ2FtZUlkfWA7XG5cbiAgcmV0dXJuIHNlbmRNYWlsKHtcbiAgICB0bzogYXJncy50b0VtYWlsLFxuICAgIHN1YmplY3Q6IFwiQ2hlc3MgcmVtaW5kZXI6IGl0J3MgeW91ciBtb3ZlXCIsXG4gICAgdGV4dDogYEl0J3MgeW91ciB0dXJuIHRvIG1vdmUgaW4gZ2FtZSAke2FyZ3MuZ2FtZUlkfS5cXG5cXG5MYXN0IG1vdmUgd2FzICR7TWF0aC5mbG9vcihcbiAgICAgIGFyZ3MubWludXRlc1NpbmNlTGFzdE1vdmVcbiAgICApfSBtaW51dGUocykgYWdvICh0aHJlc2hvbGQ6ICR7YXJncy5taW5NaW51dGVzU2luY2VMYXN0TW92ZX0gbWludXRlKHMpKS5cXG5cXG5PcGVuIGdhbWU6ICR7Z2FtZVVybH1gLFxuICAgIGh0bWw6IGA8cD5JdCdzIHlvdXIgdHVybiB0byBtb3ZlIGluIGdhbWUgPGNvZGU+JHtlc2NhcGVIdG1sKGFyZ3MuZ2FtZUlkKX08L2NvZGU+LjwvcD48cD5MYXN0IG1vdmUgd2FzICR7TWF0aC5mbG9vcihcbiAgICAgIGFyZ3MubWludXRlc1NpbmNlTGFzdE1vdmVcbiAgICApfSBtaW51dGUocykgYWdvICh0aHJlc2hvbGQ6ICR7YXJncy5taW5NaW51dGVzU2luY2VMYXN0TW92ZX0gbWludXRlKHMpKS48L3A+PHA+PGEgaHJlZj1cXFwiJHtlc2NhcGVIdG1sKFxuICAgICAgZ2FtZVVybFxuICAgICl9XFxcIj5PcGVuIGdhbWU8L2E+PC9wPmBcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUh0bWwodmFsdWU6IHN0cmluZykge1xuICByZXR1cm4gdmFsdWVcbiAgICAucmVwbGFjZSgvJi9nLCBcIiZhbXA7XCIpXG4gICAgLnJlcGxhY2UoLzwvZywgXCImbHQ7XCIpXG4gICAgLnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpXG4gICAgLnJlcGxhY2UoL1xcXCIvZywgXCImcXVvdDtcIilcbiAgICAucmVwbGFjZSgvJy9nLCBcIiYjMDM5O1wiKTtcbn1cbiJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwidHJhbnNwb3J0ZXJDYWNoZSIsImdldEFwcFVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9VUkwiLCJyZXBsYWNlIiwiZ2V0RnJvbUVtYWlsIiwiU01UUF9GUk9NIiwiZ2V0VHJhbnNwb3J0ZXIiLCJob3N0IiwiU01UUF9IT1NUIiwicG9ydFJhdyIsIlNNVFBfUE9SVCIsInVzZXIiLCJTTVRQX1VTRVIiLCJwYXNzIiwiU01UUF9QQVNTIiwicG9ydCIsIk51bWJlciIsInBhcnNlSW50IiwiaXNGaW5pdGUiLCJzZWN1cmUiLCJTTVRQX1NFQ1VSRSIsImNyZWF0ZVRyYW5zcG9ydCIsImF1dGgiLCJzZW5kTWFpbCIsInBhcmFtcyIsInRyYW5zcG9ydGVyIiwic2VudCIsInNraXBwZWRSZWFzb24iLCJpbmZvIiwiZnJvbSIsInRvIiwic3ViamVjdCIsInRleHQiLCJodG1sIiwibWVzc2FnZUlkIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJzZW5kR2FtZUludml0YXRpb25FbWFpbCIsImFyZ3MiLCJnYW1lVXJsIiwiZ2FtZUlkIiwiaW52aXRlciIsImludml0ZWRCeU5hbWUiLCJpbnZpdGVkQnlFbWFpbCIsInJlZ2lzdHJhdGlvbk5vdGUiLCJvcHBvbmVudEV4aXN0cyIsInRvRW1haWwiLCJlc2NhcGVIdG1sIiwic2VuZFR1cm5SZW1pbmRlckVtYWlsIiwiTWF0aCIsImZsb29yIiwibWludXRlc1NpbmNlTGFzdE1vdmUiLCJtaW5NaW51dGVzU2luY2VMYXN0TW92ZSIsInZhbHVlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/email.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mcp-tools.ts":
/*!**************************!*\
  !*** ./lib/mcp-tools.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   executeTool: () => (/* binding */ executeTool),\n/* harmony export */   toolDefs: () => (/* binding */ toolDefs)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var chess_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! chess.js */ \"(rsc)/./node_modules/.pnpm/chess.js@1.4.0/node_modules/chess.js/dist/esm/chess.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/.pnpm/zod@3.25.76/node_modules/zod/v3/types.js\");\n/* harmony import */ var _lib_ably_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/ably-server */ \"(rsc)/./lib/ably-server.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./lib/db.ts\");\n/* harmony import */ var _lib_chess_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/chess-utils */ \"(rsc)/./lib/chess-utils.ts\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/email */ \"(rsc)/./lib/email.ts\");\n\n\n\n\n\n\n\nfunction requireAuth(userId) {\n    if (!userId) {\n        throw new Error(\"Authentication required\");\n    }\n    return userId;\n}\nconst queryUsersInput = zod__WEBPACK_IMPORTED_MODULE_6__.object({\n    query: zod__WEBPACK_IMPORTED_MODULE_6__.string().trim().optional(),\n    email: zod__WEBPACK_IMPORTED_MODULE_6__.string().trim().optional(),\n    name: zod__WEBPACK_IMPORTED_MODULE_6__.string().trim().optional(),\n    limit: zod__WEBPACK_IMPORTED_MODULE_6__.number().int().min(1).max(50).default(20)\n}).transform((raw)=>({\n        term: (raw.query ?? raw.email ?? raw.name ?? \"\").trim(),\n        limit: raw.limit\n    }));\nconst newGameInput = zod__WEBPACK_IMPORTED_MODULE_6__.object({\n    opponentEmail: zod__WEBPACK_IMPORTED_MODULE_6__.string().email().transform((value)=>value.trim().toLowerCase()),\n    playAs: zod__WEBPACK_IMPORTED_MODULE_6__[\"enum\"]([\n        \"white\",\n        \"black\"\n    ]).default(\"white\")\n});\nconst movePieceInput = zod__WEBPACK_IMPORTED_MODULE_6__.object({\n    gameId: zod__WEBPACK_IMPORTED_MODULE_6__.string().min(1),\n    from: zod__WEBPACK_IMPORTED_MODULE_6__.string().regex(/^[a-h][1-8]$/),\n    to: zod__WEBPACK_IMPORTED_MODULE_6__.string().regex(/^[a-h][1-8]$/),\n    promotion: zod__WEBPACK_IMPORTED_MODULE_6__[\"enum\"]([\n        \"q\",\n        \"r\",\n        \"b\",\n        \"n\"\n    ]).optional()\n});\nconst gameIdInput = zod__WEBPACK_IMPORTED_MODULE_6__.object({\n    gameId: zod__WEBPACK_IMPORTED_MODULE_6__.string().min(1)\n});\nconst snapshotInput = zod__WEBPACK_IMPORTED_MODULE_6__.object({\n    gameId: zod__WEBPACK_IMPORTED_MODULE_6__.string().min(1),\n    size: zod__WEBPACK_IMPORTED_MODULE_6__.number().int().min(200).max(1200).default(560)\n});\nconst historyInput = zod__WEBPACK_IMPORTED_MODULE_6__.object({\n    gameId: zod__WEBPACK_IMPORTED_MODULE_6__.string().min(1),\n    limit: zod__WEBPACK_IMPORTED_MODULE_6__.number().int().min(1).max(300).default(200)\n});\nconst listGamesInput = zod__WEBPACK_IMPORTED_MODULE_6__.object({\n    scope: zod__WEBPACK_IMPORTED_MODULE_6__[\"enum\"]([\n        \"my\",\n        \"others\",\n        \"all\"\n    ]).default(\"all\"),\n    limit: zod__WEBPACK_IMPORTED_MODULE_6__.number().int().min(1).max(100).default(30)\n});\nconst postChatInput = zod__WEBPACK_IMPORTED_MODULE_6__.object({\n    gameId: zod__WEBPACK_IMPORTED_MODULE_6__.string().min(1),\n    body: zod__WEBPACK_IMPORTED_MODULE_6__.string().trim().min(1).max(500)\n});\nconst getChatInput = zod__WEBPACK_IMPORTED_MODULE_6__.object({\n    gameId: zod__WEBPACK_IMPORTED_MODULE_6__.string().min(1),\n    limit: zod__WEBPACK_IMPORTED_MODULE_6__.number().int().min(1).max(200).default(50)\n});\nconst toolDefs = [\n    {\n        name: \"query_users_by_email\",\n        description: \"Search users by email and/or name.\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                query: {\n                    type: \"string\"\n                },\n                email: {\n                    type: \"string\"\n                },\n                name: {\n                    type: \"string\"\n                },\n                limit: {\n                    type: \"number\"\n                }\n            }\n        },\n        execute: async (args)=>{\n            const input = queryUsersInput.parse(args ?? {});\n            const where = input.term ? {\n                AND: [\n                    {\n                        email: {\n                            not: null\n                        }\n                    },\n                    {\n                        OR: [\n                            {\n                                email: {\n                                    contains: input.term\n                                }\n                            },\n                            {\n                                name: {\n                                    contains: input.term\n                                }\n                            }\n                        ]\n                    }\n                ]\n            } : {\n                email: {\n                    not: null\n                }\n            };\n            const users = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.user.findMany({\n                where,\n                select: {\n                    id: true,\n                    name: true,\n                    email: true,\n                    image: true\n                },\n                orderBy: [\n                    {\n                        email: \"asc\"\n                    },\n                    {\n                        createdAt: \"desc\"\n                    }\n                ],\n                take: input.limit\n            });\n            return {\n                users\n            };\n        }\n    },\n    {\n        name: \"new_game\",\n        description: \"Create a new game against an email and send invitation email.\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                opponentEmail: {\n                    type: \"string\",\n                    format: \"email\"\n                },\n                playAs: {\n                    type: \"string\",\n                    enum: [\n                        \"white\",\n                        \"black\"\n                    ]\n                }\n            },\n            required: [\n                \"opponentEmail\"\n            ]\n        },\n        execute: async (args, ctx)=>{\n            const userId = requireAuth(ctx.userId);\n            const input = newGameInput.parse(args ?? {});\n            const me = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.user.findUnique({\n                where: {\n                    id: userId\n                },\n                select: {\n                    id: true,\n                    email: true,\n                    name: true\n                }\n            });\n            if (!me) {\n                throw new Error(\"Authenticated user not found\");\n            }\n            if (me.email?.toLowerCase() === input.opponentEmail) {\n                throw new Error(\"Cannot create a game against yourself\");\n            }\n            let opponent = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.user.findUnique({\n                where: {\n                    email: input.opponentEmail\n                },\n                select: {\n                    id: true,\n                    email: true,\n                    name: true\n                }\n            });\n            let opponentExists = true;\n            if (!opponent) {\n                opponentExists = false;\n                opponent = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.user.create({\n                    data: {\n                        email: input.opponentEmail\n                    },\n                    select: {\n                        id: true,\n                        email: true,\n                        name: true\n                    }\n                });\n            }\n            const chess = new chess_js__WEBPACK_IMPORTED_MODULE_1__.Chess();\n            const whiteId = input.playAs === \"white\" ? userId : opponent.id;\n            const blackId = input.playAs === \"black\" ? userId : opponent.id;\n            const game = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.game.create({\n                data: {\n                    whiteId,\n                    blackId,\n                    createdById: userId,\n                    fen: chess.fen(),\n                    pgn: chess.pgn(),\n                    isPublic: true\n                },\n                include: {\n                    white: {\n                        select: {\n                            id: true,\n                            email: true,\n                            name: true\n                        }\n                    },\n                    black: {\n                        select: {\n                            id: true,\n                            email: true,\n                            name: true\n                        }\n                    }\n                }\n            });\n            const invitation = await (0,_lib_email__WEBPACK_IMPORTED_MODULE_5__.sendGameInvitationEmail)({\n                toEmail: input.opponentEmail,\n                invitedByEmail: me.email,\n                invitedByName: me.name,\n                gameId: game.id,\n                opponentExists\n            });\n            await (0,_lib_ably_server__WEBPACK_IMPORTED_MODULE_2__.publishGameEvent)(game.id, \"game.created\", {\n                whiteId: game.white.id,\n                blackId: game.black.id\n            });\n            await (0,_lib_ably_server__WEBPACK_IMPORTED_MODULE_2__.publishGamesEvent)(\"game.created\", {\n                gameId: game.id\n            });\n            return {\n                game: {\n                    id: game.id,\n                    white: game.white,\n                    black: game.black,\n                    status: game.status,\n                    fen: game.fen,\n                    createdAt: game.createdAt\n                },\n                invitation\n            };\n        }\n    },\n    {\n        name: \"move_piece\",\n        description: \"Move a piece in a game (authenticated game players only).\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                gameId: {\n                    type: \"string\"\n                },\n                from: {\n                    type: \"string\"\n                },\n                to: {\n                    type: \"string\"\n                },\n                promotion: {\n                    type: \"string\",\n                    enum: [\n                        \"q\",\n                        \"r\",\n                        \"b\",\n                        \"n\"\n                    ]\n                }\n            },\n            required: [\n                \"gameId\",\n                \"from\",\n                \"to\"\n            ]\n        },\n        execute: async (args, ctx)=>{\n            const userId = requireAuth(ctx.userId);\n            const input = movePieceInput.parse(args ?? {});\n            const result = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.$transaction(async (tx)=>{\n                const game = await tx.game.findUnique({\n                    where: {\n                        id: input.gameId\n                    }\n                });\n                if (!game) throw new Error(\"Game not found\");\n                if (game.status !== _prisma_client__WEBPACK_IMPORTED_MODULE_0__.GameStatus.ACTIVE) throw new Error(\"Game is not active\");\n                const playerColor = userId === game.whiteId ? \"w\" : userId === game.blackId ? \"b\" : null;\n                if (!playerColor) {\n                    throw new Error(\"Only game players can move pieces\");\n                }\n                const chess = new chess_js__WEBPACK_IMPORTED_MODULE_1__.Chess(game.fen);\n                if (chess.turn() !== playerColor) {\n                    throw new Error(\"It is not your turn\");\n                }\n                const fenBefore = chess.fen();\n                const move = chess.move({\n                    from: input.from,\n                    to: input.to,\n                    promotion: input.promotion\n                });\n                if (!move) {\n                    throw new Error(\"Illegal move\");\n                }\n                const fenAfter = chess.fen();\n                const ply = await tx.move.count({\n                    where: {\n                        gameId: game.id\n                    }\n                });\n                const nextStatus = chess.isGameOver() ? _prisma_client__WEBPACK_IMPORTED_MODULE_0__.GameStatus.FINISHED : _prisma_client__WEBPACK_IMPORTED_MODULE_0__.GameStatus.ACTIVE;\n                await tx.game.update({\n                    where: {\n                        id: game.id\n                    },\n                    data: {\n                        fen: fenAfter,\n                        pgn: chess.pgn(),\n                        status: nextStatus\n                    }\n                });\n                const dbMove = await tx.move.create({\n                    data: {\n                        gameId: game.id,\n                        byUserId: userId,\n                        from: input.from,\n                        to: input.to,\n                        promotion: input.promotion,\n                        san: move.san,\n                        fenBefore,\n                        fenAfter,\n                        ply: ply + 1\n                    }\n                });\n                return {\n                    move: {\n                        id: dbMove.id,\n                        san: dbMove.san,\n                        from: dbMove.from,\n                        to: dbMove.to,\n                        ply: dbMove.ply,\n                        createdAt: dbMove.createdAt\n                    },\n                    fen: fenAfter,\n                    gameStatus: nextStatus,\n                    isCheckmate: chess.isCheckmate(),\n                    isDraw: chess.isDraw(),\n                    winnerUserId: chess.isCheckmate() ? userId : null\n                };\n            });\n            await (0,_lib_ably_server__WEBPACK_IMPORTED_MODULE_2__.publishGameEvent)(input.gameId, \"move.created\", {\n                moveId: result.move.id,\n                byUserId: userId,\n                san: result.move.san,\n                from: result.move.from,\n                to: result.move.to,\n                gameStatus: result.gameStatus\n            });\n            await (0,_lib_ably_server__WEBPACK_IMPORTED_MODULE_2__.publishGamesEvent)(\"game.updated\", {\n                gameId: input.gameId\n            });\n            if (result.gameStatus === _prisma_client__WEBPACK_IMPORTED_MODULE_0__.GameStatus.FINISHED) {\n                await (0,_lib_ably_server__WEBPACK_IMPORTED_MODULE_2__.publishGameEvent)(input.gameId, \"game.finished\", {\n                    winnerUserId: result.winnerUserId,\n                    isCheckmate: result.isCheckmate,\n                    isDraw: result.isDraw\n                });\n            }\n            return result;\n        }\n    },\n    {\n        name: \"snapshot\",\n        description: \"Generate a board snapshot image for a game.\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                gameId: {\n                    type: \"string\"\n                },\n                size: {\n                    type: \"number\"\n                }\n            },\n            required: [\n                \"gameId\"\n            ]\n        },\n        execute: async (args)=>{\n            const input = snapshotInput.parse(args ?? {});\n            const game = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.game.findUnique({\n                where: {\n                    id: input.gameId\n                }\n            });\n            if (!game || !game.isPublic) throw new Error(\"Game not found\");\n            const svg = (0,_lib_chess_utils__WEBPACK_IMPORTED_MODULE_4__.renderBoardSvg)(game.fen, input.size);\n            const base64 = Buffer.from(svg).toString(\"base64\");\n            return {\n                gameId: game.id,\n                mimeType: \"image/svg+xml\",\n                dataUrl: `data:image/svg+xml;base64,${base64}`\n            };\n        }\n    },\n    {\n        name: \"status\",\n        description: \"Get the game status and piece positions.\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                gameId: {\n                    type: \"string\"\n                }\n            },\n            required: [\n                \"gameId\"\n            ]\n        },\n        execute: async (args)=>{\n            const input = gameIdInput.parse(args ?? {});\n            const game = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.game.findUnique({\n                where: {\n                    id: input.gameId\n                }\n            });\n            if (!game || !game.isPublic) throw new Error(\"Game not found\");\n            const chess = new chess_js__WEBPACK_IMPORTED_MODULE_1__.Chess(game.fen);\n            return {\n                gameId: game.id,\n                fen: game.fen,\n                turn: chess.turn(),\n                isCheck: chess.isCheck(),\n                isCheckmate: chess.isCheckmate(),\n                isStalemate: chess.isStalemate(),\n                isDraw: chess.isDraw(),\n                gameStatus: game.status,\n                pieces: (0,_lib_chess_utils__WEBPACK_IMPORTED_MODULE_4__.getPiecesFromFen)(game.fen)\n            };\n        }\n    },\n    {\n        name: \"history\",\n        description: \"Get chronological move history.\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                gameId: {\n                    type: \"string\"\n                },\n                limit: {\n                    type: \"number\"\n                }\n            },\n            required: [\n                \"gameId\"\n            ]\n        },\n        execute: async (args)=>{\n            const input = historyInput.parse(args ?? {});\n            const game = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.game.findUnique({\n                where: {\n                    id: input.gameId\n                }\n            });\n            if (!game || !game.isPublic) throw new Error(\"Game not found\");\n            const moves = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.move.findMany({\n                where: {\n                    gameId: input.gameId\n                },\n                orderBy: {\n                    ply: \"asc\"\n                },\n                include: {\n                    byUser: {\n                        select: {\n                            id: true,\n                            email: true\n                        }\n                    }\n                },\n                take: input.limit\n            });\n            return {\n                gameId: input.gameId,\n                moves: moves.map((m)=>({\n                        id: m.id,\n                        ply: m.ply,\n                        san: m.san,\n                        from: m.from,\n                        to: m.to,\n                        byUser: m.byUser,\n                        createdAt: m.createdAt\n                    }))\n            };\n        }\n    },\n    {\n        name: \"list_games\",\n        description: \"List public games, with my/others scopes for authenticated users.\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                scope: {\n                    type: \"string\",\n                    enum: [\n                        \"my\",\n                        \"others\",\n                        \"all\"\n                    ]\n                },\n                limit: {\n                    type: \"number\"\n                }\n            }\n        },\n        execute: async (args, ctx)=>{\n            const input = listGamesInput.parse(args ?? {});\n            let where = {\n                isPublic: true\n            };\n            if (input.scope === \"my\") {\n                const userId = requireAuth(ctx.userId);\n                where = {\n                    isPublic: true,\n                    OR: [\n                        {\n                            whiteId: userId\n                        },\n                        {\n                            blackId: userId\n                        }\n                    ]\n                };\n            }\n            if (input.scope === \"others\") {\n                if (ctx.userId) {\n                    where = {\n                        isPublic: true,\n                        AND: [\n                            {\n                                NOT: {\n                                    OR: [\n                                        {\n                                            whiteId: ctx.userId\n                                        },\n                                        {\n                                            blackId: ctx.userId\n                                        }\n                                    ]\n                                }\n                            }\n                        ]\n                    };\n                }\n            }\n            const games = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.game.findMany({\n                where,\n                include: {\n                    white: {\n                        select: {\n                            id: true,\n                            email: true\n                        }\n                    },\n                    black: {\n                        select: {\n                            id: true,\n                            email: true\n                        }\n                    },\n                    _count: {\n                        select: {\n                            moves: true\n                        }\n                    }\n                },\n                orderBy: {\n                    updatedAt: \"desc\"\n                },\n                take: input.limit\n            });\n            return {\n                games: games.map((g)=>({\n                        id: g.id,\n                        white: g.white,\n                        black: g.black,\n                        status: g.status,\n                        moveCount: g._count.moves,\n                        updatedAt: g.updatedAt,\n                        createdAt: g.createdAt\n                    }))\n            };\n        }\n    },\n    {\n        name: \"get_game\",\n        description: \"Get one game's metadata.\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                gameId: {\n                    type: \"string\"\n                }\n            },\n            required: [\n                \"gameId\"\n            ]\n        },\n        execute: async (args, ctx)=>{\n            const input = gameIdInput.parse(args ?? {});\n            const game = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.game.findUnique({\n                where: {\n                    id: input.gameId\n                },\n                include: {\n                    white: {\n                        select: {\n                            id: true,\n                            email: true\n                        }\n                    },\n                    black: {\n                        select: {\n                            id: true,\n                            email: true\n                        }\n                    },\n                    _count: {\n                        select: {\n                            moves: true,\n                            chatMessages: true\n                        }\n                    }\n                }\n            });\n            if (!game || !game.isPublic) throw new Error(\"Game not found\");\n            return {\n                game: {\n                    id: game.id,\n                    white: game.white,\n                    black: game.black,\n                    status: game.status,\n                    moveCount: game._count.moves,\n                    chatCount: game._count.chatMessages,\n                    createdAt: game.createdAt,\n                    updatedAt: game.updatedAt,\n                    canMove: game.status === _prisma_client__WEBPACK_IMPORTED_MODULE_0__.GameStatus.ACTIVE && (ctx.userId === game.whiteId || ctx.userId === game.blackId)\n                }\n            };\n        }\n    },\n    {\n        name: \"get_chat_messages\",\n        description: \"Get per-game chat messages.\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                gameId: {\n                    type: \"string\"\n                },\n                limit: {\n                    type: \"number\"\n                }\n            },\n            required: [\n                \"gameId\"\n            ]\n        },\n        execute: async (args)=>{\n            const input = getChatInput.parse(args ?? {});\n            const game = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.game.findUnique({\n                where: {\n                    id: input.gameId\n                }\n            });\n            if (!game || !game.isPublic) throw new Error(\"Game not found\");\n            const messages = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.chatMessage.findMany({\n                where: {\n                    gameId: input.gameId\n                },\n                include: {\n                    user: {\n                        select: {\n                            id: true,\n                            email: true\n                        }\n                    }\n                },\n                orderBy: {\n                    createdAt: \"asc\"\n                },\n                take: input.limit\n            });\n            return {\n                gameId: input.gameId,\n                messages: messages.map((m)=>({\n                        id: m.id,\n                        body: m.body,\n                        createdAt: m.createdAt,\n                        user: m.user\n                    }))\n            };\n        }\n    },\n    {\n        name: \"post_chat_message\",\n        description: \"Post a message to a game's chat (players only).\",\n        inputSchema: {\n            type: \"object\",\n            properties: {\n                gameId: {\n                    type: \"string\"\n                },\n                body: {\n                    type: \"string\"\n                }\n            },\n            required: [\n                \"gameId\",\n                \"body\"\n            ]\n        },\n        execute: async (args, ctx)=>{\n            const userId = requireAuth(ctx.userId);\n            const input = postChatInput.parse(args ?? {});\n            const game = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.game.findUnique({\n                where: {\n                    id: input.gameId\n                }\n            });\n            if (!game || !game.isPublic) throw new Error(\"Game not found\");\n            if (game.whiteId !== userId && game.blackId !== userId) {\n                throw new Error(\"Only game players can post chat messages\");\n            }\n            const message = await _lib_db__WEBPACK_IMPORTED_MODULE_3__.db.chatMessage.create({\n                data: {\n                    gameId: input.gameId,\n                    userId,\n                    body: input.body\n                },\n                include: {\n                    user: {\n                        select: {\n                            id: true,\n                            email: true\n                        }\n                    }\n                }\n            });\n            await (0,_lib_ably_server__WEBPACK_IMPORTED_MODULE_2__.publishGameEvent)(input.gameId, \"chat.created\", {\n                messageId: message.id,\n                userId\n            });\n            return {\n                message: {\n                    id: message.id,\n                    body: message.body,\n                    createdAt: message.createdAt,\n                    user: message.user\n                }\n            };\n        }\n    }\n];\nasync function executeTool(name, args, ctx) {\n    const tool = toolDefs.find((t)=>t.name === name);\n    if (!tool) {\n        throw new Error(`Unknown tool: ${name}`);\n    }\n    return tool.execute(args, ctx);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFROzRCQUFFQyxJQUFJOzRCQUFNbEQsT0FBTzt3QkFBSztvQkFBRTtnQkFDNUM7WUFDRjtZQUVBLE1BQU1mLGtFQUFnQkEsQ0FBQ3NELE1BQU1yQixNQUFNLEVBQUUsZ0JBQWdCO2dCQUNuRDhHLFdBQVdELFFBQVE3RSxFQUFFO2dCQUNyQjFEO1lBQ0Y7WUFFQSxPQUFPO2dCQUNMdUksU0FBUztvQkFDUDdFLElBQUk2RSxRQUFRN0UsRUFBRTtvQkFDZHBCLE1BQU1pRyxRQUFRakcsSUFBSTtvQkFDbEJ1QixXQUFXMEUsUUFBUTFFLFNBQVM7b0JBQzVCTixNQUFNZ0YsUUFBUWhGLElBQUk7Z0JBQ3BCO1lBQ0Y7UUFDRjtJQUNGO0NBQ0QsQ0FBQztBQUVLLGVBQWVrRixZQUFZaEksSUFBWSxFQUFFcUMsSUFBYSxFQUFFbUIsR0FBZ0I7SUFDN0UsTUFBTXlFLE9BQU9sRyxTQUFTbUcsSUFBSSxDQUFDLENBQUNDLElBQU1BLEVBQUVuSSxJQUFJLEtBQUtBO0lBQzdDLElBQUksQ0FBQ2lJLE1BQU07UUFDVCxNQUFNLElBQUl6SSxNQUFNLENBQUMsY0FBYyxFQUFFUSxLQUFLLENBQUM7SUFDekM7SUFFQSxPQUFPaUksS0FBSzdGLE9BQU8sQ0FBQ0MsTUFBTW1CO0FBQzVCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWNwLWNoZXNzLy4vbGliL21jcC10b29scy50cz81ZTIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdhbWVTdGF0dXMgfSBmcm9tIFwiQHByaXNtYS9jbGllbnRcIjtcbmltcG9ydCB7IENoZXNzIH0gZnJvbSBcImNoZXNzLmpzXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG5pbXBvcnQgeyBwdWJsaXNoR2FtZUV2ZW50LCBwdWJsaXNoR2FtZXNFdmVudCB9IGZyb20gXCJAL2xpYi9hYmx5LXNlcnZlclwiO1xuaW1wb3J0IHsgZGIgfSBmcm9tIFwiQC9saWIvZGJcIjtcbmltcG9ydCB7IGdldFBpZWNlc0Zyb21GZW4sIHJlbmRlckJvYXJkU3ZnIH0gZnJvbSBcIkAvbGliL2NoZXNzLXV0aWxzXCI7XG5pbXBvcnQgeyBzZW5kR2FtZUludml0YXRpb25FbWFpbCB9IGZyb20gXCJAL2xpYi9lbWFpbFwiO1xuXG50eXBlIFRvb2xDb250ZXh0ID0ge1xuICB1c2VySWQ6IHN0cmluZyB8IG51bGw7XG59O1xuXG50eXBlIFRvb2xEZWYgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgaW5wdXRTY2hlbWE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICBleGVjdXRlOiAoYXJnczogdW5rbm93biwgY3R4OiBUb29sQ29udGV4dCkgPT4gUHJvbWlzZTx1bmtub3duPjtcbn07XG5cbmZ1bmN0aW9uIHJlcXVpcmVBdXRoKHVzZXJJZDogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB7XG4gIGlmICghdXNlcklkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQXV0aGVudGljYXRpb24gcmVxdWlyZWRcIik7XG4gIH1cbiAgcmV0dXJuIHVzZXJJZDtcbn1cblxuY29uc3QgcXVlcnlVc2Vyc0lucHV0ID0gelxuICAub2JqZWN0KHtcbiAgICBxdWVyeTogei5zdHJpbmcoKS50cmltKCkub3B0aW9uYWwoKSxcbiAgICBlbWFpbDogei5zdHJpbmcoKS50cmltKCkub3B0aW9uYWwoKSxcbiAgICBuYW1lOiB6LnN0cmluZygpLnRyaW0oKS5vcHRpb25hbCgpLFxuICAgIGxpbWl0OiB6Lm51bWJlcigpLmludCgpLm1pbigxKS5tYXgoNTApLmRlZmF1bHQoMjApXG4gIH0pXG4gIC50cmFuc2Zvcm0oKHJhdykgPT4gKHtcbiAgICB0ZXJtOiAocmF3LnF1ZXJ5ID8/IHJhdy5lbWFpbCA/PyByYXcubmFtZSA/PyBcIlwiKS50cmltKCksXG4gICAgbGltaXQ6IHJhdy5saW1pdFxuICB9KSk7XG5cbmNvbnN0IG5ld0dhbWVJbnB1dCA9IHoub2JqZWN0KHtcbiAgb3Bwb25lbnRFbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLnRyYW5zZm9ybSgodmFsdWUpID0+IHZhbHVlLnRyaW0oKS50b0xvd2VyQ2FzZSgpKSxcbiAgcGxheUFzOiB6LmVudW0oW1wid2hpdGVcIiwgXCJibGFja1wiXSkuZGVmYXVsdChcIndoaXRlXCIpXG59KTtcblxuY29uc3QgbW92ZVBpZWNlSW5wdXQgPSB6Lm9iamVjdCh7XG4gIGdhbWVJZDogei5zdHJpbmcoKS5taW4oMSksXG4gIGZyb206IHouc3RyaW5nKCkucmVnZXgoL15bYS1oXVsxLThdJC8pLFxuICB0bzogei5zdHJpbmcoKS5yZWdleCgvXlthLWhdWzEtOF0kLyksXG4gIHByb21vdGlvbjogei5lbnVtKFtcInFcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIl0pLm9wdGlvbmFsKClcbn0pO1xuXG5jb25zdCBnYW1lSWRJbnB1dCA9IHoub2JqZWN0KHtcbiAgZ2FtZUlkOiB6LnN0cmluZygpLm1pbigxKVxufSk7XG5cbmNvbnN0IHNuYXBzaG90SW5wdXQgPSB6Lm9iamVjdCh7XG4gIGdhbWVJZDogei5zdHJpbmcoKS5taW4oMSksXG4gIHNpemU6IHoubnVtYmVyKCkuaW50KCkubWluKDIwMCkubWF4KDEyMDApLmRlZmF1bHQoNTYwKVxufSk7XG5cbmNvbnN0IGhpc3RvcnlJbnB1dCA9IHoub2JqZWN0KHtcbiAgZ2FtZUlkOiB6LnN0cmluZygpLm1pbigxKSxcbiAgbGltaXQ6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLm1heCgzMDApLmRlZmF1bHQoMjAwKVxufSk7XG5cbmNvbnN0IGxpc3RHYW1lc0lucHV0ID0gei5vYmplY3Qoe1xuICBzY29wZTogei5lbnVtKFtcIm15XCIsIFwib3RoZXJzXCIsIFwiYWxsXCJdKS5kZWZhdWx0KFwiYWxsXCIpLFxuICBsaW1pdDogei5udW1iZXIoKS5pbnQoKS5taW4oMSkubWF4KDEwMCkuZGVmYXVsdCgzMClcbn0pO1xuXG5jb25zdCBwb3N0Q2hhdElucHV0ID0gei5vYmplY3Qoe1xuICBnYW1lSWQ6IHouc3RyaW5nKCkubWluKDEpLFxuICBib2R5OiB6LnN0cmluZygpLnRyaW0oKS5taW4oMSkubWF4KDUwMClcbn0pO1xuXG5jb25zdCBnZXRDaGF0SW5wdXQgPSB6Lm9iamVjdCh7XG4gIGdhbWVJZDogei5zdHJpbmcoKS5taW4oMSksXG4gIGxpbWl0OiB6Lm51bWJlcigpLmludCgpLm1pbigxKS5tYXgoMjAwKS5kZWZhdWx0KDUwKVxufSk7XG5cbmV4cG9ydCBjb25zdCB0b29sRGVmczogVG9vbERlZltdID0gW1xuICB7XG4gICAgbmFtZTogXCJxdWVyeV91c2Vyc19ieV9lbWFpbFwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlNlYXJjaCB1c2VycyBieSBlbWFpbCBhbmQvb3IgbmFtZS5cIixcbiAgICBpbnB1dFNjaGVtYToge1xuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgcXVlcnk6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICBlbWFpbDogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgIG5hbWU6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICBsaW1pdDogeyB0eXBlOiBcIm51bWJlclwiIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGV4ZWN1dGU6IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dCA9IHF1ZXJ5VXNlcnNJbnB1dC5wYXJzZShhcmdzID8/IHt9KTtcbiAgICAgIGNvbnN0IHdoZXJlID0gaW5wdXQudGVybVxuICAgICAgICA/IHtcbiAgICAgICAgICAgIEFORDogW1xuICAgICAgICAgICAgICB7IGVtYWlsOiB7IG5vdDogbnVsbCB9IH0sXG4gICAgICAgICAgICAgIHsgT1I6IFt7IGVtYWlsOiB7IGNvbnRhaW5zOiBpbnB1dC50ZXJtIH0gfSwgeyBuYW1lOiB7IGNvbnRhaW5zOiBpbnB1dC50ZXJtIH0gfV0gfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgOiB7IGVtYWlsOiB7IG5vdDogbnVsbCB9IH07XG5cbiAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgZGIudXNlci5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlLFxuICAgICAgICBzZWxlY3Q6IHsgaWQ6IHRydWUsIG5hbWU6IHRydWUsIGVtYWlsOiB0cnVlLCBpbWFnZTogdHJ1ZSB9LFxuICAgICAgICBvcmRlckJ5OiBbeyBlbWFpbDogXCJhc2NcIiB9LCB7IGNyZWF0ZWRBdDogXCJkZXNjXCIgfV0sXG4gICAgICAgIHRha2U6IGlucHV0LmxpbWl0XG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHsgdXNlcnMgfTtcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIm5ld19nYW1lXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQ3JlYXRlIGEgbmV3IGdhbWUgYWdhaW5zdCBhbiBlbWFpbCBhbmQgc2VuZCBpbnZpdGF0aW9uIGVtYWlsLlwiLFxuICAgIGlucHV0U2NoZW1hOiB7XG4gICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBvcHBvbmVudEVtYWlsOiB7IHR5cGU6IFwic3RyaW5nXCIsIGZvcm1hdDogXCJlbWFpbFwiIH0sXG4gICAgICAgIHBsYXlBczogeyB0eXBlOiBcInN0cmluZ1wiLCBlbnVtOiBbXCJ3aGl0ZVwiLCBcImJsYWNrXCJdIH1cbiAgICAgIH0sXG4gICAgICByZXF1aXJlZDogW1wib3Bwb25lbnRFbWFpbFwiXVxuICAgIH0sXG4gICAgZXhlY3V0ZTogYXN5bmMgKGFyZ3MsIGN0eCkgPT4ge1xuICAgICAgY29uc3QgdXNlcklkID0gcmVxdWlyZUF1dGgoY3R4LnVzZXJJZCk7XG4gICAgICBjb25zdCBpbnB1dCA9IG5ld0dhbWVJbnB1dC5wYXJzZShhcmdzID8/IHt9KTtcblxuICAgICAgY29uc3QgbWUgPSBhd2FpdCBkYi51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBpZDogdXNlcklkIH0sXG4gICAgICAgIHNlbGVjdDogeyBpZDogdHJ1ZSwgZW1haWw6IHRydWUsIG5hbWU6IHRydWUgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF1dGhlbnRpY2F0ZWQgdXNlciBub3QgZm91bmRcIik7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZS5lbWFpbD8udG9Mb3dlckNhc2UoKSA9PT0gaW5wdXQub3Bwb25lbnRFbWFpbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGEgZ2FtZSBhZ2FpbnN0IHlvdXJzZWxmXCIpO1xuICAgICAgfVxuXG4gICAgICBsZXQgb3Bwb25lbnQgPSBhd2FpdCBkYi51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBlbWFpbDogaW5wdXQub3Bwb25lbnRFbWFpbCB9LFxuICAgICAgICBzZWxlY3Q6IHsgaWQ6IHRydWUsIGVtYWlsOiB0cnVlLCBuYW1lOiB0cnVlIH1cbiAgICAgIH0pO1xuXG4gICAgICBsZXQgb3Bwb25lbnRFeGlzdHMgPSB0cnVlO1xuICAgICAgaWYgKCFvcHBvbmVudCkge1xuICAgICAgICBvcHBvbmVudEV4aXN0cyA9IGZhbHNlO1xuICAgICAgICBvcHBvbmVudCA9IGF3YWl0IGRiLnVzZXIuY3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7IGVtYWlsOiBpbnB1dC5vcHBvbmVudEVtYWlsIH0sXG4gICAgICAgICAgc2VsZWN0OiB7IGlkOiB0cnVlLCBlbWFpbDogdHJ1ZSwgbmFtZTogdHJ1ZSB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjaGVzcyA9IG5ldyBDaGVzcygpO1xuICAgICAgY29uc3Qgd2hpdGVJZCA9IGlucHV0LnBsYXlBcyA9PT0gXCJ3aGl0ZVwiID8gdXNlcklkIDogb3Bwb25lbnQuaWQ7XG4gICAgICBjb25zdCBibGFja0lkID0gaW5wdXQucGxheUFzID09PSBcImJsYWNrXCIgPyB1c2VySWQgOiBvcHBvbmVudC5pZDtcblxuICAgICAgY29uc3QgZ2FtZSA9IGF3YWl0IGRiLmdhbWUuY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHdoaXRlSWQsXG4gICAgICAgICAgYmxhY2tJZCxcbiAgICAgICAgICBjcmVhdGVkQnlJZDogdXNlcklkLFxuICAgICAgICAgIGZlbjogY2hlc3MuZmVuKCksXG4gICAgICAgICAgcGduOiBjaGVzcy5wZ24oKSxcbiAgICAgICAgICBpc1B1YmxpYzogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgd2hpdGU6IHsgc2VsZWN0OiB7IGlkOiB0cnVlLCBlbWFpbDogdHJ1ZSwgbmFtZTogdHJ1ZSB9IH0sXG4gICAgICAgICAgYmxhY2s6IHsgc2VsZWN0OiB7IGlkOiB0cnVlLCBlbWFpbDogdHJ1ZSwgbmFtZTogdHJ1ZSB9IH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGludml0YXRpb24gPSBhd2FpdCBzZW5kR2FtZUludml0YXRpb25FbWFpbCh7XG4gICAgICAgIHRvRW1haWw6IGlucHV0Lm9wcG9uZW50RW1haWwsXG4gICAgICAgIGludml0ZWRCeUVtYWlsOiBtZS5lbWFpbCxcbiAgICAgICAgaW52aXRlZEJ5TmFtZTogbWUubmFtZSxcbiAgICAgICAgZ2FtZUlkOiBnYW1lLmlkLFxuICAgICAgICBvcHBvbmVudEV4aXN0c1xuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHB1Ymxpc2hHYW1lRXZlbnQoZ2FtZS5pZCwgXCJnYW1lLmNyZWF0ZWRcIiwge1xuICAgICAgICB3aGl0ZUlkOiBnYW1lLndoaXRlLmlkLFxuICAgICAgICBibGFja0lkOiBnYW1lLmJsYWNrLmlkXG4gICAgICB9KTtcbiAgICAgIGF3YWl0IHB1Ymxpc2hHYW1lc0V2ZW50KFwiZ2FtZS5jcmVhdGVkXCIsIHsgZ2FtZUlkOiBnYW1lLmlkIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBnYW1lOiB7XG4gICAgICAgICAgaWQ6IGdhbWUuaWQsXG4gICAgICAgICAgd2hpdGU6IGdhbWUud2hpdGUsXG4gICAgICAgICAgYmxhY2s6IGdhbWUuYmxhY2ssXG4gICAgICAgICAgc3RhdHVzOiBnYW1lLnN0YXR1cyxcbiAgICAgICAgICBmZW46IGdhbWUuZmVuLFxuICAgICAgICAgIGNyZWF0ZWRBdDogZ2FtZS5jcmVhdGVkQXRcbiAgICAgICAgfSxcbiAgICAgICAgaW52aXRhdGlvblxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIm1vdmVfcGllY2VcIixcbiAgICBkZXNjcmlwdGlvbjogXCJNb3ZlIGEgcGllY2UgaW4gYSBnYW1lIChhdXRoZW50aWNhdGVkIGdhbWUgcGxheWVycyBvbmx5KS5cIixcbiAgICBpbnB1dFNjaGVtYToge1xuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgZ2FtZUlkOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgZnJvbTogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgIHRvOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgcHJvbW90aW9uOiB7IHR5cGU6IFwic3RyaW5nXCIsIGVudW06IFtcInFcIiwgXCJyXCIsIFwiYlwiLCBcIm5cIl0gfVxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbXCJnYW1lSWRcIiwgXCJmcm9tXCIsIFwidG9cIl1cbiAgICB9LFxuICAgIGV4ZWN1dGU6IGFzeW5jIChhcmdzLCBjdHgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHJlcXVpcmVBdXRoKGN0eC51c2VySWQpO1xuICAgICAgY29uc3QgaW5wdXQgPSBtb3ZlUGllY2VJbnB1dC5wYXJzZShhcmdzID8/IHt9KTtcblxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIuJHRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgICBjb25zdCBnYW1lID0gYXdhaXQgdHguZ2FtZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQ6IGlucHV0LmdhbWVJZCB9IH0pO1xuICAgICAgICBpZiAoIWdhbWUpIHRocm93IG5ldyBFcnJvcihcIkdhbWUgbm90IGZvdW5kXCIpO1xuICAgICAgICBpZiAoZ2FtZS5zdGF0dXMgIT09IEdhbWVTdGF0dXMuQUNUSVZFKSB0aHJvdyBuZXcgRXJyb3IoXCJHYW1lIGlzIG5vdCBhY3RpdmVcIik7XG5cbiAgICAgICAgY29uc3QgcGxheWVyQ29sb3IgPSB1c2VySWQgPT09IGdhbWUud2hpdGVJZCA/IFwid1wiIDogdXNlcklkID09PSBnYW1lLmJsYWNrSWQgPyBcImJcIiA6IG51bGw7XG4gICAgICAgIGlmICghcGxheWVyQ29sb3IpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJPbmx5IGdhbWUgcGxheWVycyBjYW4gbW92ZSBwaWVjZXNcIik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaGVzcyA9IG5ldyBDaGVzcyhnYW1lLmZlbik7XG4gICAgICAgIGlmIChjaGVzcy50dXJuKCkgIT09IHBsYXllckNvbG9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSXQgaXMgbm90IHlvdXIgdHVyblwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGZlbkJlZm9yZSA9IGNoZXNzLmZlbigpO1xuICAgICAgICBjb25zdCBtb3ZlID0gY2hlc3MubW92ZSh7XG4gICAgICAgICAgZnJvbTogaW5wdXQuZnJvbSxcbiAgICAgICAgICB0bzogaW5wdXQudG8sXG4gICAgICAgICAgcHJvbW90aW9uOiBpbnB1dC5wcm9tb3Rpb25cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCFtb3ZlKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWxsZWdhbCBtb3ZlXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmVuQWZ0ZXIgPSBjaGVzcy5mZW4oKTtcbiAgICAgICAgY29uc3QgcGx5ID0gYXdhaXQgdHgubW92ZS5jb3VudCh7IHdoZXJlOiB7IGdhbWVJZDogZ2FtZS5pZCB9IH0pO1xuICAgICAgICBjb25zdCBuZXh0U3RhdHVzID0gY2hlc3MuaXNHYW1lT3ZlcigpID8gR2FtZVN0YXR1cy5GSU5JU0hFRCA6IEdhbWVTdGF0dXMuQUNUSVZFO1xuXG4gICAgICAgIGF3YWl0IHR4LmdhbWUudXBkYXRlKHtcbiAgICAgICAgICB3aGVyZTogeyBpZDogZ2FtZS5pZCB9LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGZlbjogZmVuQWZ0ZXIsXG4gICAgICAgICAgICBwZ246IGNoZXNzLnBnbigpLFxuICAgICAgICAgICAgc3RhdHVzOiBuZXh0U3RhdHVzXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBkYk1vdmUgPSBhd2FpdCB0eC5tb3ZlLmNyZWF0ZSh7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZ2FtZUlkOiBnYW1lLmlkLFxuICAgICAgICAgICAgYnlVc2VySWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIGZyb206IGlucHV0LmZyb20sXG4gICAgICAgICAgICB0bzogaW5wdXQudG8sXG4gICAgICAgICAgICBwcm9tb3Rpb246IGlucHV0LnByb21vdGlvbixcbiAgICAgICAgICAgIHNhbjogbW92ZS5zYW4sXG4gICAgICAgICAgICBmZW5CZWZvcmUsXG4gICAgICAgICAgICBmZW5BZnRlcixcbiAgICAgICAgICAgIHBseTogcGx5ICsgMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBtb3ZlOiB7XG4gICAgICAgICAgICBpZDogZGJNb3ZlLmlkLFxuICAgICAgICAgICAgc2FuOiBkYk1vdmUuc2FuLFxuICAgICAgICAgICAgZnJvbTogZGJNb3ZlLmZyb20sXG4gICAgICAgICAgICB0bzogZGJNb3ZlLnRvLFxuICAgICAgICAgICAgcGx5OiBkYk1vdmUucGx5LFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBkYk1vdmUuY3JlYXRlZEF0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmZW46IGZlbkFmdGVyLFxuICAgICAgICAgIGdhbWVTdGF0dXM6IG5leHRTdGF0dXMsXG4gICAgICAgICAgaXNDaGVja21hdGU6IGNoZXNzLmlzQ2hlY2ttYXRlKCksXG4gICAgICAgICAgaXNEcmF3OiBjaGVzcy5pc0RyYXcoKSxcbiAgICAgICAgICB3aW5uZXJVc2VySWQ6IGNoZXNzLmlzQ2hlY2ttYXRlKCkgPyB1c2VySWQgOiBudWxsXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgYXdhaXQgcHVibGlzaEdhbWVFdmVudChpbnB1dC5nYW1lSWQsIFwibW92ZS5jcmVhdGVkXCIsIHtcbiAgICAgICAgbW92ZUlkOiByZXN1bHQubW92ZS5pZCxcbiAgICAgICAgYnlVc2VySWQ6IHVzZXJJZCxcbiAgICAgICAgc2FuOiByZXN1bHQubW92ZS5zYW4sXG4gICAgICAgIGZyb206IHJlc3VsdC5tb3ZlLmZyb20sXG4gICAgICAgIHRvOiByZXN1bHQubW92ZS50byxcbiAgICAgICAgZ2FtZVN0YXR1czogcmVzdWx0LmdhbWVTdGF0dXNcbiAgICAgIH0pO1xuICAgICAgYXdhaXQgcHVibGlzaEdhbWVzRXZlbnQoXCJnYW1lLnVwZGF0ZWRcIiwgeyBnYW1lSWQ6IGlucHV0LmdhbWVJZCB9KTtcblxuICAgICAgaWYgKHJlc3VsdC5nYW1lU3RhdHVzID09PSBHYW1lU3RhdHVzLkZJTklTSEVEKSB7XG4gICAgICAgIGF3YWl0IHB1Ymxpc2hHYW1lRXZlbnQoaW5wdXQuZ2FtZUlkLCBcImdhbWUuZmluaXNoZWRcIiwge1xuICAgICAgICAgIHdpbm5lclVzZXJJZDogcmVzdWx0Lndpbm5lclVzZXJJZCxcbiAgICAgICAgICBpc0NoZWNrbWF0ZTogcmVzdWx0LmlzQ2hlY2ttYXRlLFxuICAgICAgICAgIGlzRHJhdzogcmVzdWx0LmlzRHJhd1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcInNuYXBzaG90XCIsXG4gICAgZGVzY3JpcHRpb246IFwiR2VuZXJhdGUgYSBib2FyZCBzbmFwc2hvdCBpbWFnZSBmb3IgYSBnYW1lLlwiLFxuICAgIGlucHV0U2NoZW1hOiB7XG4gICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBnYW1lSWQ6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICBzaXplOiB7IHR5cGU6IFwibnVtYmVyXCIgfVxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbXCJnYW1lSWRcIl1cbiAgICB9LFxuICAgIGV4ZWN1dGU6IGFzeW5jIChhcmdzKSA9PiB7XG4gICAgICBjb25zdCBpbnB1dCA9IHNuYXBzaG90SW5wdXQucGFyc2UoYXJncyA/PyB7fSk7XG4gICAgICBjb25zdCBnYW1lID0gYXdhaXQgZGIuZ2FtZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQ6IGlucHV0LmdhbWVJZCB9IH0pO1xuICAgICAgaWYgKCFnYW1lIHx8ICFnYW1lLmlzUHVibGljKSB0aHJvdyBuZXcgRXJyb3IoXCJHYW1lIG5vdCBmb3VuZFwiKTtcblxuICAgICAgY29uc3Qgc3ZnID0gcmVuZGVyQm9hcmRTdmcoZ2FtZS5mZW4sIGlucHV0LnNpemUpO1xuICAgICAgY29uc3QgYmFzZTY0ID0gQnVmZmVyLmZyb20oc3ZnKS50b1N0cmluZyhcImJhc2U2NFwiKTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZ2FtZUlkOiBnYW1lLmlkLFxuICAgICAgICBtaW1lVHlwZTogXCJpbWFnZS9zdmcreG1sXCIsXG4gICAgICAgIGRhdGFVcmw6IGBkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LCR7YmFzZTY0fWBcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJzdGF0dXNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJHZXQgdGhlIGdhbWUgc3RhdHVzIGFuZCBwaWVjZSBwb3NpdGlvbnMuXCIsXG4gICAgaW5wdXRTY2hlbWE6IHtcbiAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIGdhbWVJZDogeyB0eXBlOiBcInN0cmluZ1wiIH1cbiAgICAgIH0sXG4gICAgICByZXF1aXJlZDogW1wiZ2FtZUlkXCJdXG4gICAgfSxcbiAgICBleGVjdXRlOiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSBnYW1lSWRJbnB1dC5wYXJzZShhcmdzID8/IHt9KTtcbiAgICAgIGNvbnN0IGdhbWUgPSBhd2FpdCBkYi5nYW1lLmZpbmRVbmlxdWUoeyB3aGVyZTogeyBpZDogaW5wdXQuZ2FtZUlkIH0gfSk7XG4gICAgICBpZiAoIWdhbWUgfHwgIWdhbWUuaXNQdWJsaWMpIHRocm93IG5ldyBFcnJvcihcIkdhbWUgbm90IGZvdW5kXCIpO1xuXG4gICAgICBjb25zdCBjaGVzcyA9IG5ldyBDaGVzcyhnYW1lLmZlbik7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdhbWVJZDogZ2FtZS5pZCxcbiAgICAgICAgZmVuOiBnYW1lLmZlbixcbiAgICAgICAgdHVybjogY2hlc3MudHVybigpLFxuICAgICAgICBpc0NoZWNrOiBjaGVzcy5pc0NoZWNrKCksXG4gICAgICAgIGlzQ2hlY2ttYXRlOiBjaGVzcy5pc0NoZWNrbWF0ZSgpLFxuICAgICAgICBpc1N0YWxlbWF0ZTogY2hlc3MuaXNTdGFsZW1hdGUoKSxcbiAgICAgICAgaXNEcmF3OiBjaGVzcy5pc0RyYXcoKSxcbiAgICAgICAgZ2FtZVN0YXR1czogZ2FtZS5zdGF0dXMsXG4gICAgICAgIHBpZWNlczogZ2V0UGllY2VzRnJvbUZlbihnYW1lLmZlbilcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJoaXN0b3J5XCIsXG4gICAgZGVzY3JpcHRpb246IFwiR2V0IGNocm9ub2xvZ2ljYWwgbW92ZSBoaXN0b3J5LlwiLFxuICAgIGlucHV0U2NoZW1hOiB7XG4gICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBnYW1lSWQ6IHsgdHlwZTogXCJzdHJpbmdcIiB9LFxuICAgICAgICBsaW1pdDogeyB0eXBlOiBcIm51bWJlclwiIH1cbiAgICAgIH0sXG4gICAgICByZXF1aXJlZDogW1wiZ2FtZUlkXCJdXG4gICAgfSxcbiAgICBleGVjdXRlOiBhc3luYyAoYXJncykgPT4ge1xuICAgICAgY29uc3QgaW5wdXQgPSBoaXN0b3J5SW5wdXQucGFyc2UoYXJncyA/PyB7fSk7XG4gICAgICBjb25zdCBnYW1lID0gYXdhaXQgZGIuZ2FtZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQ6IGlucHV0LmdhbWVJZCB9IH0pO1xuICAgICAgaWYgKCFnYW1lIHx8ICFnYW1lLmlzUHVibGljKSB0aHJvdyBuZXcgRXJyb3IoXCJHYW1lIG5vdCBmb3VuZFwiKTtcblxuICAgICAgY29uc3QgbW92ZXMgPSBhd2FpdCBkYi5tb3ZlLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmU6IHsgZ2FtZUlkOiBpbnB1dC5nYW1lSWQgfSxcbiAgICAgICAgb3JkZXJCeTogeyBwbHk6IFwiYXNjXCIgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGJ5VXNlcjogeyBzZWxlY3Q6IHsgaWQ6IHRydWUsIGVtYWlsOiB0cnVlIH0gfVxuICAgICAgICB9LFxuICAgICAgICB0YWtlOiBpbnB1dC5saW1pdFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdhbWVJZDogaW5wdXQuZ2FtZUlkLFxuICAgICAgICBtb3ZlczogbW92ZXMubWFwKChtKSA9PiAoe1xuICAgICAgICAgIGlkOiBtLmlkLFxuICAgICAgICAgIHBseTogbS5wbHksXG4gICAgICAgICAgc2FuOiBtLnNhbixcbiAgICAgICAgICBmcm9tOiBtLmZyb20sXG4gICAgICAgICAgdG86IG0udG8sXG4gICAgICAgICAgYnlVc2VyOiBtLmJ5VXNlcixcbiAgICAgICAgICBjcmVhdGVkQXQ6IG0uY3JlYXRlZEF0XG4gICAgICAgIH0pKVxuICAgICAgfTtcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcImxpc3RfZ2FtZXNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJMaXN0IHB1YmxpYyBnYW1lcywgd2l0aCBteS9vdGhlcnMgc2NvcGVzIGZvciBhdXRoZW50aWNhdGVkIHVzZXJzLlwiLFxuICAgIGlucHV0U2NoZW1hOiB7XG4gICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBzY29wZTogeyB0eXBlOiBcInN0cmluZ1wiLCBlbnVtOiBbXCJteVwiLCBcIm90aGVyc1wiLCBcImFsbFwiXSB9LFxuICAgICAgICBsaW1pdDogeyB0eXBlOiBcIm51bWJlclwiIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGV4ZWN1dGU6IGFzeW5jIChhcmdzLCBjdHgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0gbGlzdEdhbWVzSW5wdXQucGFyc2UoYXJncyA/PyB7fSk7XG5cbiAgICAgIGxldCB3aGVyZTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7IGlzUHVibGljOiB0cnVlIH07XG4gICAgICBpZiAoaW5wdXQuc2NvcGUgPT09IFwibXlcIikge1xuICAgICAgICBjb25zdCB1c2VySWQgPSByZXF1aXJlQXV0aChjdHgudXNlcklkKTtcbiAgICAgICAgd2hlcmUgPSB7XG4gICAgICAgICAgaXNQdWJsaWM6IHRydWUsXG4gICAgICAgICAgT1I6IFt7IHdoaXRlSWQ6IHVzZXJJZCB9LCB7IGJsYWNrSWQ6IHVzZXJJZCB9XVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAoaW5wdXQuc2NvcGUgPT09IFwib3RoZXJzXCIpIHtcbiAgICAgICAgaWYgKGN0eC51c2VySWQpIHtcbiAgICAgICAgICB3aGVyZSA9IHtcbiAgICAgICAgICAgIGlzUHVibGljOiB0cnVlLFxuICAgICAgICAgICAgQU5EOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOT1Q6IHtcbiAgICAgICAgICAgICAgICAgIE9SOiBbeyB3aGl0ZUlkOiBjdHgudXNlcklkIH0sIHsgYmxhY2tJZDogY3R4LnVzZXJJZCB9XVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY29uc3QgZ2FtZXMgPSBhd2FpdCBkYi5nYW1lLmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmUsXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICB3aGl0ZTogeyBzZWxlY3Q6IHsgaWQ6IHRydWUsIGVtYWlsOiB0cnVlIH0gfSxcbiAgICAgICAgICBibGFjazogeyBzZWxlY3Q6IHsgaWQ6IHRydWUsIGVtYWlsOiB0cnVlIH0gfSxcbiAgICAgICAgICBfY291bnQ6IHsgc2VsZWN0OiB7IG1vdmVzOiB0cnVlIH0gfVxuICAgICAgICB9LFxuICAgICAgICBvcmRlckJ5OiB7IHVwZGF0ZWRBdDogXCJkZXNjXCIgfSxcbiAgICAgICAgdGFrZTogaW5wdXQubGltaXRcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBnYW1lczogZ2FtZXMubWFwKChnKSA9PiAoe1xuICAgICAgICAgIGlkOiBnLmlkLFxuICAgICAgICAgIHdoaXRlOiBnLndoaXRlLFxuICAgICAgICAgIGJsYWNrOiBnLmJsYWNrLFxuICAgICAgICAgIHN0YXR1czogZy5zdGF0dXMsXG4gICAgICAgICAgbW92ZUNvdW50OiBnLl9jb3VudC5tb3ZlcyxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGcudXBkYXRlZEF0LFxuICAgICAgICAgIGNyZWF0ZWRBdDogZy5jcmVhdGVkQXRcbiAgICAgICAgfSkpXG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiZ2V0X2dhbWVcIixcbiAgICBkZXNjcmlwdGlvbjogXCJHZXQgb25lIGdhbWUncyBtZXRhZGF0YS5cIixcbiAgICBpbnB1dFNjaGVtYToge1xuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgZ2FtZUlkOiB7IHR5cGU6IFwic3RyaW5nXCIgfVxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbXCJnYW1lSWRcIl1cbiAgICB9LFxuICAgIGV4ZWN1dGU6IGFzeW5jIChhcmdzLCBjdHgpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0gZ2FtZUlkSW5wdXQucGFyc2UoYXJncyA/PyB7fSk7XG4gICAgICBjb25zdCBnYW1lID0gYXdhaXQgZGIuZ2FtZS5maW5kVW5pcXVlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQ6IGlucHV0LmdhbWVJZCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgd2hpdGU6IHsgc2VsZWN0OiB7IGlkOiB0cnVlLCBlbWFpbDogdHJ1ZSB9IH0sXG4gICAgICAgICAgYmxhY2s6IHsgc2VsZWN0OiB7IGlkOiB0cnVlLCBlbWFpbDogdHJ1ZSB9IH0sXG4gICAgICAgICAgX2NvdW50OiB7IHNlbGVjdDogeyBtb3ZlczogdHJ1ZSwgY2hhdE1lc3NhZ2VzOiB0cnVlIH0gfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghZ2FtZSB8fCAhZ2FtZS5pc1B1YmxpYykgdGhyb3cgbmV3IEVycm9yKFwiR2FtZSBub3QgZm91bmRcIik7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdhbWU6IHtcbiAgICAgICAgICBpZDogZ2FtZS5pZCxcbiAgICAgICAgICB3aGl0ZTogZ2FtZS53aGl0ZSxcbiAgICAgICAgICBibGFjazogZ2FtZS5ibGFjayxcbiAgICAgICAgICBzdGF0dXM6IGdhbWUuc3RhdHVzLFxuICAgICAgICAgIG1vdmVDb3VudDogZ2FtZS5fY291bnQubW92ZXMsXG4gICAgICAgICAgY2hhdENvdW50OiBnYW1lLl9jb3VudC5jaGF0TWVzc2FnZXMsXG4gICAgICAgICAgY3JlYXRlZEF0OiBnYW1lLmNyZWF0ZWRBdCxcbiAgICAgICAgICB1cGRhdGVkQXQ6IGdhbWUudXBkYXRlZEF0LFxuICAgICAgICAgIGNhbk1vdmU6XG4gICAgICAgICAgICBnYW1lLnN0YXR1cyA9PT0gR2FtZVN0YXR1cy5BQ1RJVkUgJiZcbiAgICAgICAgICAgIChjdHgudXNlcklkID09PSBnYW1lLndoaXRlSWQgfHwgY3R4LnVzZXJJZCA9PT0gZ2FtZS5ibGFja0lkKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiZ2V0X2NoYXRfbWVzc2FnZXNcIixcbiAgICBkZXNjcmlwdGlvbjogXCJHZXQgcGVyLWdhbWUgY2hhdCBtZXNzYWdlcy5cIixcbiAgICBpbnB1dFNjaGVtYToge1xuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgZ2FtZUlkOiB7IHR5cGU6IFwic3RyaW5nXCIgfSxcbiAgICAgICAgbGltaXQ6IHsgdHlwZTogXCJudW1iZXJcIiB9XG4gICAgICB9LFxuICAgICAgcmVxdWlyZWQ6IFtcImdhbWVJZFwiXVxuICAgIH0sXG4gICAgZXhlY3V0ZTogYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgIGNvbnN0IGlucHV0ID0gZ2V0Q2hhdElucHV0LnBhcnNlKGFyZ3MgPz8ge30pO1xuICAgICAgY29uc3QgZ2FtZSA9IGF3YWl0IGRiLmdhbWUuZmluZFVuaXF1ZSh7IHdoZXJlOiB7IGlkOiBpbnB1dC5nYW1lSWQgfSB9KTtcbiAgICAgIGlmICghZ2FtZSB8fCAhZ2FtZS5pc1B1YmxpYykgdGhyb3cgbmV3IEVycm9yKFwiR2FtZSBub3QgZm91bmRcIik7XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgZGIuY2hhdE1lc3NhZ2UuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZTogeyBnYW1lSWQ6IGlucHV0LmdhbWVJZCB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgdXNlcjogeyBzZWxlY3Q6IHsgaWQ6IHRydWUsIGVtYWlsOiB0cnVlIH0gfVxuICAgICAgICB9LFxuICAgICAgICBvcmRlckJ5OiB7IGNyZWF0ZWRBdDogXCJhc2NcIiB9LFxuICAgICAgICB0YWtlOiBpbnB1dC5saW1pdFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGdhbWVJZDogaW5wdXQuZ2FtZUlkLFxuICAgICAgICBtZXNzYWdlczogbWVzc2FnZXMubWFwKChtKSA9PiAoe1xuICAgICAgICAgIGlkOiBtLmlkLFxuICAgICAgICAgIGJvZHk6IG0uYm9keSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG0uY3JlYXRlZEF0LFxuICAgICAgICAgIHVzZXI6IG0udXNlclxuICAgICAgICB9KSlcbiAgICAgIH07XG4gICAgfVxuICB9LFxuICB7XG4gICAgbmFtZTogXCJwb3N0X2NoYXRfbWVzc2FnZVwiLFxuICAgIGRlc2NyaXB0aW9uOiBcIlBvc3QgYSBtZXNzYWdlIHRvIGEgZ2FtZSdzIGNoYXQgKHBsYXllcnMgb25seSkuXCIsXG4gICAgaW5wdXRTY2hlbWE6IHtcbiAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgIGdhbWVJZDogeyB0eXBlOiBcInN0cmluZ1wiIH0sXG4gICAgICAgIGJvZHk6IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICB9LFxuICAgICAgcmVxdWlyZWQ6IFtcImdhbWVJZFwiLCBcImJvZHlcIl1cbiAgICB9LFxuICAgIGV4ZWN1dGU6IGFzeW5jIChhcmdzLCBjdHgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXJJZCA9IHJlcXVpcmVBdXRoKGN0eC51c2VySWQpO1xuICAgICAgY29uc3QgaW5wdXQgPSBwb3N0Q2hhdElucHV0LnBhcnNlKGFyZ3MgPz8ge30pO1xuXG4gICAgICBjb25zdCBnYW1lID0gYXdhaXQgZGIuZ2FtZS5maW5kVW5pcXVlKHsgd2hlcmU6IHsgaWQ6IGlucHV0LmdhbWVJZCB9IH0pO1xuICAgICAgaWYgKCFnYW1lIHx8ICFnYW1lLmlzUHVibGljKSB0aHJvdyBuZXcgRXJyb3IoXCJHYW1lIG5vdCBmb3VuZFwiKTtcblxuICAgICAgaWYgKGdhbWUud2hpdGVJZCAhPT0gdXNlcklkICYmIGdhbWUuYmxhY2tJZCAhPT0gdXNlcklkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk9ubHkgZ2FtZSBwbGF5ZXJzIGNhbiBwb3N0IGNoYXQgbWVzc2FnZXNcIik7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBhd2FpdCBkYi5jaGF0TWVzc2FnZS5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgZ2FtZUlkOiBpbnB1dC5nYW1lSWQsXG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIGJvZHk6IGlucHV0LmJvZHlcbiAgICAgICAgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIHVzZXI6IHsgc2VsZWN0OiB7IGlkOiB0cnVlLCBlbWFpbDogdHJ1ZSB9IH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGF3YWl0IHB1Ymxpc2hHYW1lRXZlbnQoaW5wdXQuZ2FtZUlkLCBcImNoYXQuY3JlYXRlZFwiLCB7XG4gICAgICAgIG1lc3NhZ2VJZDogbWVzc2FnZS5pZCxcbiAgICAgICAgdXNlcklkXG4gICAgICB9KTtcblxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbWVzc2FnZToge1xuICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgIGJvZHk6IG1lc3NhZ2UuYm9keSxcbiAgICAgICAgICBjcmVhdGVkQXQ6IG1lc3NhZ2UuY3JlYXRlZEF0LFxuICAgICAgICAgIHVzZXI6IG1lc3NhZ2UudXNlclxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVUb29sKG5hbWU6IHN0cmluZywgYXJnczogdW5rbm93biwgY3R4OiBUb29sQ29udGV4dCkge1xuICBjb25zdCB0b29sID0gdG9vbERlZnMuZmluZCgodCkgPT4gdC5uYW1lID09PSBuYW1lKTtcbiAgaWYgKCF0b29sKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHRvb2w6ICR7bmFtZX1gKTtcbiAgfVxuXG4gIHJldHVybiB0b29sLmV4ZWN1dGUoYXJncywgY3R4KTtcbn1cbiJdLCJuYW1lcyI6WyJHYW1lU3RhdHVzIiwiQ2hlc3MiLCJ6IiwicHVibGlzaEdhbWVFdmVudCIsInB1Ymxpc2hHYW1lc0V2ZW50IiwiZGIiLCJnZXRQaWVjZXNGcm9tRmVuIiwicmVuZGVyQm9hcmRTdmciLCJzZW5kR2FtZUludml0YXRpb25FbWFpbCIsInJlcXVpcmVBdXRoIiwidXNlcklkIiwiRXJyb3IiLCJxdWVyeVVzZXJzSW5wdXQiLCJvYmplY3QiLCJxdWVyeSIsInN0cmluZyIsInRyaW0iLCJvcHRpb25hbCIsImVtYWlsIiwibmFtZSIsImxpbWl0IiwibnVtYmVyIiwiaW50IiwibWluIiwibWF4IiwiZGVmYXVsdCIsInRyYW5zZm9ybSIsInJhdyIsInRlcm0iLCJuZXdHYW1lSW5wdXQiLCJvcHBvbmVudEVtYWlsIiwidmFsdWUiLCJ0b0xvd2VyQ2FzZSIsInBsYXlBcyIsImVudW0iLCJtb3ZlUGllY2VJbnB1dCIsImdhbWVJZCIsImZyb20iLCJyZWdleCIsInRvIiwicHJvbW90aW9uIiwiZ2FtZUlkSW5wdXQiLCJzbmFwc2hvdElucHV0Iiwic2l6ZSIsImhpc3RvcnlJbnB1dCIsImxpc3RHYW1lc0lucHV0Iiwic2NvcGUiLCJwb3N0Q2hhdElucHV0IiwiYm9keSIsImdldENoYXRJbnB1dCIsInRvb2xEZWZzIiwiZGVzY3JpcHRpb24iLCJpbnB1dFNjaGVtYSIsInR5cGUiLCJwcm9wZXJ0aWVzIiwiZXhlY3V0ZSIsImFyZ3MiLCJpbnB1dCIsInBhcnNlIiwid2hlcmUiLCJBTkQiLCJub3QiLCJPUiIsImNvbnRhaW5zIiwidXNlcnMiLCJ1c2VyIiwiZmluZE1hbnkiLCJzZWxlY3QiLCJpZCIsImltYWdlIiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsInRha2UiLCJmb3JtYXQiLCJyZXF1aXJlZCIsImN0eCIsIm1lIiwiZmluZFVuaXF1ZSIsIm9wcG9uZW50Iiwib3Bwb25lbnRFeGlzdHMiLCJjcmVhdGUiLCJkYXRhIiwiY2hlc3MiLCJ3aGl0ZUlkIiwiYmxhY2tJZCIsImdhbWUiLCJjcmVhdGVkQnlJZCIsImZlbiIsInBnbiIsImlzUHVibGljIiwiaW5jbHVkZSIsIndoaXRlIiwiYmxhY2siLCJpbnZpdGF0aW9uIiwidG9FbWFpbCIsImludml0ZWRCeUVtYWlsIiwiaW52aXRlZEJ5TmFtZSIsInN0YXR1cyIsInJlc3VsdCIsIiR0cmFuc2FjdGlvbiIsInR4IiwiQUNUSVZFIiwicGxheWVyQ29sb3IiLCJ0dXJuIiwiZmVuQmVmb3JlIiwibW92ZSIsImZlbkFmdGVyIiwicGx5IiwiY291bnQiLCJuZXh0U3RhdHVzIiwiaXNHYW1lT3ZlciIsIkZJTklTSEVEIiwidXBkYXRlIiwiZGJNb3ZlIiwiYnlVc2VySWQiLCJzYW4iLCJnYW1lU3RhdHVzIiwiaXNDaGVja21hdGUiLCJpc0RyYXciLCJ3aW5uZXJVc2VySWQiLCJtb3ZlSWQiLCJzdmciLCJiYXNlNjQiLCJCdWZmZXIiLCJ0b1N0cmluZyIsIm1pbWVUeXBlIiwiZGF0YVVybCIsImlzQ2hlY2siLCJpc1N0YWxlbWF0ZSIsInBpZWNlcyIsIm1vdmVzIiwiYnlVc2VyIiwibWFwIiwibSIsIk5PVCIsImdhbWVzIiwiX2NvdW50IiwidXBkYXRlZEF0IiwiZyIsIm1vdmVDb3VudCIsImNoYXRNZXNzYWdlcyIsImNoYXRDb3VudCIsImNhbk1vdmUiLCJtZXNzYWdlcyIsImNoYXRNZXNzYWdlIiwibWVzc2FnZSIsIm1lc3NhZ2VJZCIsImV4ZWN1dGVUb29sIiwidG9vbCIsImZpbmQiLCJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/mcp-tools.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/jose@4.15.9","vendor-chunks/next-auth@4.24.13_next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1__nodemailer@_558663b42a6b7b1eef2ff3cbd3697141","vendor-chunks/openid-client@5.7.1","vendor-chunks/oauth@0.9.15","vendor-chunks/@babel+runtime@7.28.6","vendor-chunks/object-hash@2.2.0","vendor-chunks/preact@10.28.3","vendor-chunks/uuid@8.3.2","vendor-chunks/@next-auth+prisma-adapter@1.0.7_@prisma+client@6.19.2_prisma@6.19.2_typescript@5.9.3__t_aae0442f422bcd882b46f19e03fad1f5","vendor-chunks/yallist@4.0.0","vendor-chunks/preact-render-to-string@5.2.6_preact@10.28.3","vendor-chunks/lru-cache@6.0.0","vendor-chunks/cookie@0.7.2","vendor-chunks/oidc-token-hash@5.2.0","vendor-chunks/@panva+hkdf@1.2.1","vendor-chunks/ably@2.17.1_react-dom@18.3.1_react@18.3.1__react@18.3.1","vendor-chunks/ws@8.19.0","vendor-chunks/got@11.8.6","vendor-chunks/http2-wrapper@1.0.3","vendor-chunks/http-cache-semantics@4.2.0","vendor-chunks/@sindresorhus+is@4.6.0","vendor-chunks/cacheable-lookup@5.0.4","vendor-chunks/cacheable-request@7.0.4","vendor-chunks/keyv@4.5.4","vendor-chunks/normalize-url@6.1.0","vendor-chunks/@szmarczak+http-timer@4.0.6","vendor-chunks/end-of-stream@1.4.5","vendor-chunks/get-stream@5.2.0","vendor-chunks/pump@3.0.3","vendor-chunks/p-cancelable@2.1.1","vendor-chunks/quick-lru@5.1.1","vendor-chunks/mimic-response@3.1.0","vendor-chunks/json-buffer@3.0.1","vendor-chunks/defer-to-connect@2.0.1","vendor-chunks/decompress-response@6.0.0","vendor-chunks/once@1.4.0","vendor-chunks/wrappy@1.0.2","vendor-chunks/resolve-alpn@1.2.1","vendor-chunks/responselike@2.0.1","vendor-chunks/mimic-response@1.0.1","vendor-chunks/clone-response@1.0.3","vendor-chunks/lowercase-keys@2.0.0","vendor-chunks/chess.js@1.4.0","vendor-chunks/nodemailer@7.0.13","vendor-chunks/zod@3.25.76"], () => (__webpack_exec__("(rsc)/./node_modules/.pnpm/next@14.2.35_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmcp%2Froute&page=%2Fapi%2Fmcp%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmcp%2Froute.ts&appDir=%2FUsers%2Fsamuelbourque%2Fcodex%2Fmcp-chess%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fsamuelbourque%2Fcodex%2Fmcp-chess&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();